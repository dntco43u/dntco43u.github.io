<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=canonical type=text/html href=https://dntco43u.github.io/news/><link rel=alternate type=application/rss+xml href=https://dntco43u.github.io/news/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>News | dntco43u Documentation</title>
<meta name=description content="Get the latest news about Protocol Buffers."><meta property="og:url" content="https://dntco43u.github.io/news/"><meta property="og:site_name" content="dntco43u Documentation"><meta property="og:title" content="News"><meta property="og:description" content="Get the latest news about Protocol Buffers."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta itemprop=name content="News"><meta itemprop=description content="Get the latest news about Protocol Buffers."><meta itemprop=wordCount content="410"><meta name=twitter:card content="summary"><meta name=twitter:title content="News"><meta name=twitter:description content="Get the latest news about Protocol Buffers."><link rel=preload href=/scss/main.min.e27e9dbace77e637983a3900590da42ddfc471da09131ef565f7ea5853a1205a.css as=style><link href=/scss/main.min.e27e9dbace77e637983a3900590da42ddfc471da09131ef565f7ea5853a1205a.css rel=stylesheet><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-5J85ZHB6Y9"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-5J85ZHB6Y9")}</script></head><body class=td-section><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class=navbar-brand__name>dntco43u Documentation</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class="td-light-dark-menu nav-item dropdown"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5.0 010 .708l-7 7a.5.5.0 01-.708.0l-3.5-3.5a.5.5.0 11.708-.708L6.5 10.293l6.646-6.647a.5.5.0 01.708.0z"/></symbol><symbol id="circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 108 1v14zm0 1A8 8 0 118 0a8 8 0 010 16z"/></symbol><symbol id="moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.768.768.0 01.08.858 7.208 7.208.0 00-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527.0 1.04-.055 1.533-.16a.787.787.0 01.81.316.733.733.0 01-.031.893A8.349 8.349.0 018.344 16C3.734 16 0 12.286.0 7.71.0 4.266 2.114 1.312 5.124.06A.752.752.0 016 .278z"/><path d="M10.794 3.148a.217.217.0 01.412.0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217.0 010 .412l-1.162.387A1.734 1.734.0 0011.593 7.69l-.387 1.162a.217.217.0 01-.412.0l-.387-1.162A1.734 1.734.0 009.31 6.593l-1.162-.387a.217.217.0 010-.412l1.162-.387a1.734 1.734.0 001.097-1.097l.387-1.162zM13.863.099a.145.145.0 01.274.0l.258.774c.115.346.386.617.732.732l.774.258a.145.145.0 010 .274l-.774.258a1.156 1.156.0 00-.732.732l-.258.774a.145.145.0 01-.274.0l-.258-.774a1.156 1.156.0 00-.732-.732l-.774-.258a.145.145.0 010-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/></symbol><symbol id="sun-fill" viewBox="0 0 16 16"><path d="M8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 0zm0 13a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 13zm8-5a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2a.5.5.0 01.5.5zM3 8a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2A.5.5.0 013 8zm10.657-5.657a.5.5.0 010 .707l-1.414 1.415a.5.5.0 11-.707-.708l1.414-1.414a.5.5.0 01.707.0zm-9.193 9.193a.5.5.0 010 .707L3.05 13.657a.5.5.0 01-.707-.707l1.414-1.414a.5.5.0 01.707.0zm9.193 2.121a.5.5.0 01-.707.0l-1.414-1.414a.5.5.0 01.707-.707l1.414 1.414a.5.5.0 010 .707zM4.464 4.465a.5.5.0 01-.707.0L2.343 3.05a.5.5.0 11.707-.707l1.414 1.414a.5.5.0 010 .708z"/></symbol></svg>
<button class="btn btn-link nav-link dropdown-toggle d-flex align-items-center" id=bd-theme type=button aria-expanded=false data-bs-toggle=dropdown data-bs-display=static aria-label="Toggle theme (auto)"><svg class="bi my-1 theme-icon-active"><use href="#circle-half"/></svg></button><ul class="dropdown-menu dropdown-menu-end" aria-labelledby=bd-theme-text><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=light aria-pressed=false>
<svg class="bi me-2 opacity-50"><use href="#sun-fill"/></svg>
Light<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=dark aria-pressed=false>
<svg class="bi me-2 opacity-50"><use href="#moon-stars-fill"/></svg>
Dark<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center active" data-bs-theme-value=auto aria-pressed=true>
<svg class="bi me-2 opacity-50"><use href="#circle-half"/></svg>
Auto<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li></ul></li></ul></div><div class="d-none d-lg-block"><div class=td-search><div class=td-search__icon></div><input type=search class="td-search__input form-control td-search-input" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This is the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/news/>Return to the regular view of this page</a>.</p></div><h1 class=title>News</h1><div class=lead>Get the latest news about Protocol Buffers.</div><ul><li>1: <a href=#pg-cae32c30a0af45283a7cd130c665119c>Changes announced April 11, 2023</a></li><li>2: <a href=#pg-4eb5338f9fae5c70767eb91aff30e99d>Changes announced April 20, 2023</a></li><li>3: <a href=#pg-91982b16c0de8380b898ad540d4621d9>Changes announced April 28, 2023</a></li><li>4: <a href=#pg-5d51ec823b6c0997d3f47826dc34b740>Changes Announced on August 15, 2023</a></li><li>5: <a href=#pg-9d3ec33a75b1bdfdcd4858651d957450>Changes announced August 3, 2022</a></li><li>6: <a href=#pg-9eafb84072af75e2f4d64804c8d9172a>Changes Announced on August 9, 2023</a></li><li>7: <a href=#pg-fea6d44ab8fd5aff8caaf5d49c211b4c>Changes announced on December 13, 2023</a></li><li>8: <a href=#pg-48b4d408bc8984c4965dac2f330a7d80>Changes announced on December 27, 2023</a></li><li>9: <a href=#pg-451895d751eea12d56f40ab8045352eb>Changes announced on December 5, 2023</a></li><li>10: <a href=#pg-0a91651798db4b9f5598ac8385b9f385>Changes Announced on February 27, 2024</a></li><li>11: <a href=#pg-fccbd34f4f59a02a5b89f52c31c116e7>Changes announced February 5, 2024</a></li><li>12: <a href=#pg-ec9eb6495563c729ab9db02b27022bcf>Changes announced January 31, 2024</a></li><li>13: <a href=#pg-14d88b30372d07191905f6da3817d3b4>Changes announced January 5, 2024</a></li><li>14: <a href=#pg-5f3fe2d87195af24e385f61253f9312e>Changes Announced on July 17, 2023</a></li><li>15: <a href=#pg-78cf0b0047da93cd410264f7acd5f267>Changes announced July 6, 2022</a></li><li>16: <a href=#pg-bb5d32cf1dd1459d0c9b4c3abacdae50>Changes Announced on July 6, 2023</a></li><li>17: <a href=#pg-1578652fdded2f34f3259273a63fdd5c>Changes Announced on June 29, 2023</a></li><li>18: <a href=#pg-4b0d6dea0a9b5c93fda4eaf58f3bc5f3>Changes announced May 6, 2022</a></li><li>19: <a href=#pg-e933443c8e8d2e379406125a7a7281c1>Changes announced on October 10, 2023</a></li><li>20: <a href=#pg-08ada742e97f9d06a70bcbf7ae1fd313>Changes announced on September 15, 2023</a></li><li>21: <a href=#pg-a4312a9ae5a46d71d415a93d0717cf1a>News Announcements for Version 21.x</a></li><li>22: <a href=#pg-9f92a604c9c545d20e93accfe989948e>News Announcements for Version 22.x</a></li><li>23: <a href=#pg-10cf400c02ea4fe3d3c54d12d81f98c1>News Announcements for Version 23.x</a></li><li>24: <a href=#pg-909f94f1fd351285b43b9ea6b310db69>News Announcements for Version 24.x</a></li><li>25: <a href=#pg-861836846649f59aeb760cf8d878bb6a>News Announcements for Version 25.x</a></li><li>26: <a href=#pg-e06724b4a791a5e3c68af9273ccfb19f>News Announcements for Version 26.x</a></li></ul><div class=content><p>News topics provide information about past events and changes with Protocol
Buffers, and plans for upcoming changes. The information is available both
chronologically and per-release. Note that not everything is included in the
per-release topics, as some content is not tied to a version.</p><p>New news topics will also be published to the
<a href=https://groups.google.com/g/protobuf>protobuf@</a> mailing list under the subject
[Announcement].</p><h2 id=chronological>Chronological<a class=td-heading-self-link href=#chronological aria-label="Heading self-link"></a></h2><p>The following news topics provide information in the reverse order in which it
was released.</p><ul><li><a href=/news/2024-02-27/>February 27, 2024</a> - Dropping
support for older versions of Ruby</li><li><a href=/news/2024-02-05/>February 5, 2024</a> - Breaking
changes in Java, C++, and Python in the 26.x line.</li><li><a href=/news/2024-01-31/>January 31, 2024</a> - Breaking
changes in the 26.x line for Python</li><li><a href=/news/2024-01-05/>January 5, 2024</a> - Breaking
changes in the 26.x line for Ruby and Python</li><li><a href=/news/2023-12-27/>December 27, 2023</a> - Breaking
changes in the 26.x line for Ruby, PHP, Python, and upb</li><li><a href=/news/2023-12-13/>December 13, 2023</a> - Breaking
Python and C++ changes in the 26.x line</li><li><a href=/news/2023-12-05/>December 5, 2023</a> - Breaking Java
changes in the 26.x line</li><li><a href=/news/2023-10-10/>October 10, 2023</a> - Documentation
for Protobuf Editions features is published</li><li><a href=/news/2023-09-15/>September 15, 2023</a> - μpb Moving
to the Protobuf GitHub repository</li><li><a href=/news/2023-08-15/>August 15, 2023</a> - Breaking Python
change with the replacement of <code>message.UnknownFields()</code></li><li><a href=/news/2023-08-09/>August 9, 2023</a> - Support policy
for .NET</li><li><a href=/news/2023-07-17/>July 17, 2023</a> - Dropping support
for older versions of Bazel</li><li><a href=/news/2023-07-06/>July 6, 2023</a> - Dropping support
for older versions of PHP, Ruby, and Python</li><li><a href=/news/2023-06-29/>June 29, 2023</a> - Protobuf Editions
announcement</li><li><a href=/news/2023-04-28/>April 28, 2023</a> - Null no longer
allowed in <code>json_name</code> field options</li><li><a href=/news/2023-04-20/>April 20, 2023</a> - Update to Ruby
code generator</li><li><a href=/news/2023-04-11/>April 11, 2023</a> - Removing syntax
reflection, releasing C++ CORD support for singular <code>bytes</code> fields to OSS,
option retention, and dropping support for Bazel &lt;5.3</li><li><a href=/news/2022-08-03/>August 3, 2022</a> - Platform Support
Changes and Upcoming Changes in the C++ 22.x Line</li><li><a href=/news/2022-07-06/>July 6, 2022</a> - Library Breaking
Change Policy</li><li><a href=/news/2022-05-06/>May 6, 2022</a> - Versioning, Python
Updates, and JavaScript Support</li></ul><h2 id=per-release>Per Release<a class=td-heading-self-link href=#per-release aria-label="Heading self-link"></a></h2><p>The following new topics provide per-release information. All News entries
appear in the chronological listing in the previous section, but only entries
that are specific to a particular version appear in the pages listed in this
section.</p><p>These pages do not replace the
<a href=https://github.com/protocolbuffers/protobuf/releases>release notes</a>, as the
release notes will be more complete. Also, not everything from the chronological
listing will be in these topics, as some content is not specific to a particular
release.</p><ul><li><a href=/news/v26/>Version 26.x</a></li><li><a href=/news/v25/>Version 25.x</a></li><li><a href=/news/v24/>Version 24.x</a></li><li><a href=/news/v23/>Version 23.x</a></li><li><a href=/news/v22/>Version 22.x</a></li><li><a href=/news/v21/>Version 21.x</a></li></ul></div></div><div class=td-content style=page-break-before:always><h1 id=pg-cae32c30a0af45283a7cd130c665119c>1 - Changes announced April 11, 2023</h1><div class=lead>Changes announced for Protocol Buffers on April 11, 2023.</div><h2 id=deprecation>Syntax Reflection Deprecation<a class=td-heading-self-link href=#deprecation aria-label="Heading self-link"></a></h2><p>v23 will deprecate the ability to check syntax version using reflection. The
deprecation will be included as warnings at build time. The capability will be
removed in a future release.</p><h2 id=cord>Adding support for ctype=CORD in C++<a class=td-heading-self-link href=#cord aria-label="Heading self-link"></a></h2><p>v23 will add <code>ctype=CORD</code> support for singular <code>bytes</code>
fields, including <code>oneof</code> fields, to specify that data should be stored using
<a href=https://github.com/abseil/abseil-cpp/blob/master/absl/strings/cord.h><code>absl::cord</code></a>
instead of <code>string</code>. Support may be added in future releases for singular
<code>string</code> field types and for <code>repeated</code> <code>string</code> and <code>byte</code> fields if there is
enough interest from the open source community.</p><p><code>ctype=CORD</code> will have no effect on extensions.</p><p>You will be able to add the support using field options:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#ff6ac1>optional</span> <span style=color:#9aedfe>bytes</span> foo <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>25</span> [<span style=color:#ff6ac1>ctype</span><span style=color:#ff6ac1>=</span>CORD];<span style=color:#ff5c57>
</span></span></span></code></pre></div><h2 id=retention>Option Retention<a class=td-heading-self-link href=#retention aria-label="Heading self-link"></a></h2><p>Options now have a notion of <em>retention</em>, which controls whether an option is
retained in the generated code. Options have always had <em>runtime retention</em> by
default, meaning that they are retained in the generated code and are thus
visible at runtime in the generated descriptor pool. However, you can now set
<code>retention = RETENTION_SOURCE</code> to specify that an option (or field within an
option) must not be retained at runtime. This is called <em>source retention</em>.</p><p>Setting retention looks like this:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#ff5c57>extend</span> <span style=color:#f3f99d>google</span><span style=color:#ff6ac1>.</span>protobuf.FileOptions {<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  <span style=color:#ff6ac1>optional</span> <span style=color:#9aedfe>int32</span> source_retention_option <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>1234</span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>      [retention <span style=color:#ff6ac1>=</span> RETENTION_SOURCE];<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>}<span style=color:#ff5c57>
</span></span></span></code></pre></div><p>It can also be set on a plain field, in which case it takes effect only when
that field appears inside an option:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#ff5c57>message</span> <span style=color:#f3f99d>OptionsMessage</span> {<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  <span style=color:#ff6ac1>optional</span> <span style=color:#9aedfe>int32</span> source_retention_field <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>1</span> [retention <span style=color:#ff6ac1>=</span> RETENTION_SOURCE];<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>}<span style=color:#ff5c57>
</span></span></span></code></pre></div><p>For more information, see
<a href=/programming-guides/proto3#option-retention>Option Retention</a>.</p><h2 id=bazel>Dropping Support for Bazel &lt;5.3<a class=td-heading-self-link href=#bazel aria-label="Heading self-link"></a></h2><p>v23 will drop support for Bazel 4. Protobuf will continue to support the Bazel 5
LTS with Bazel 5.3 as the minimum required version. This is per the build
support policy described in
<a href=https://opensource.google/documentation/policies/cplusplus-support#build_systems>Foundational C++ Support Policy</a>
and as reflected in the versions in
<a href=https://github.com/google/oss-policies-info/blob/main/foundational-cxx-support-matrix.md>Foundational C++ Support</a>.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-4eb5338f9fae5c70767eb91aff30e99d>2 - Changes announced April 20, 2023</h1><div class=lead>Changes announced for Protocol Buffers on April 20, 2023.</div><h2 id=ruby>Changes to Ruby Generator<a class=td-heading-self-link href=#ruby aria-label="Heading self-link"></a></h2><p><a href=https://github.com/protocolbuffers/protobuf/pull/12319>This GitHub PR</a>, which
will appear in the 23.x release, changes the Ruby code generator to emit a
serialized proto instead of the DSL.</p><p>It removes the DSL from the code generator in anticipation of splitting the DSL
out into a separate package.</p><p>Given a .proto file like:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span>syntax <span style=color:#ff6ac1>=</span> <span style=color:#5af78e>&#34;proto3&#34;</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span><span style=color:#ff6ac1>package</span> pkg;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span><span style=color:#ff5c57>message</span> <span style=color:#f3f99d>TestMessage</span> {<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  <span style=color:#ff6ac1>optional</span> <span style=color:#9aedfe>int32</span> i32 <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>1</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  <span style=color:#ff6ac1>optional</span> TestMessage msg <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>2</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>}<span style=color:#ff5c57>
</span></span></span></code></pre></div><p>Generated code before:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span><span style=color:#78787e># Generated by the protocol buffer compiler.  DO NOT EDIT!</span>
</span></span><span style=display:flex><span><span style=color:#78787e># source: protoc_explorer/main.proto</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff5c57>require</span> <span style=color:#5af78e>&#39;google/protobuf&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff9f43>Google</span><span style=color:#ff6ac1>::</span><span style=color:#ff9f43>Protobuf</span><span style=color:#ff6ac1>::</span><span style=color:#ff9f43>DescriptorPool</span><span style=color:#ff6ac1>.</span>generated_pool<span style=color:#ff6ac1>.</span>build <span style=color:#ff6ac1>do</span>
</span></span><span style=display:flex><span>  add_file(<span style=color:#5af78e>&#34;test.proto&#34;</span>, <span style=color:#5af78e>:syntax</span> <span style=color:#ff6ac1>=&gt;</span> <span style=color:#5af78e>:proto3</span>) <span style=color:#ff6ac1>do</span>
</span></span><span style=display:flex><span>    add_message <span style=color:#5af78e>&#34;pkg.TestMessage&#34;</span> <span style=color:#ff6ac1>do</span>
</span></span><span style=display:flex><span>      proto3_optional <span style=color:#5af78e>:i32</span>, <span style=color:#5af78e>:int32</span>, <span style=color:#ff9f43>1</span>
</span></span><span style=display:flex><span>      proto3_optional <span style=color:#5af78e>:msg</span>, <span style=color:#5af78e>:message</span>, <span style=color:#ff9f43>2</span>, <span style=color:#5af78e>&#34;pkg.TestMessage&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>end</span>
</span></span><span style=display:flex><span>  <span style=color:#ff6ac1>end</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>module</span> Pkg
</span></span><span style=display:flex><span>  <span style=color:#ff9f43>TestMessage</span> <span style=color:#ff6ac1>=</span> <span style=color:#ff6ac1>::</span><span style=color:#ff9f43>Google</span><span style=color:#ff6ac1>::</span><span style=color:#ff9f43>Protobuf</span><span style=color:#ff6ac1>::</span><span style=color:#ff9f43>DescriptorPool</span><span style=color:#ff6ac1>.</span>generated_pool<span style=color:#ff6ac1>.</span>lookup(<span style=color:#5af78e>&#34;pkg.TestMessage&#34;</span>)<span style=color:#ff6ac1>.</span>msgclass
</span></span><span style=display:flex><span><span style=color:#ff6ac1>end</span>
</span></span></code></pre></div><p>Generated code after:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span><span style=color:#78787e># frozen_string_literal: true</span>
</span></span><span style=display:flex><span><span style=color:#78787e># Generated by the protocol buffer compiler.  DO NOT EDIT!</span>
</span></span><span style=display:flex><span><span style=color:#78787e># source: test.proto</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff5c57>require</span> <span style=color:#5af78e>&#39;google/protobuf&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>descriptor_data <span style=color:#ff6ac1>=</span> <span style=color:#5af78e>&#34;</span><span style=color:#5af78e>\n\n</span><span style=color:#5af78e>test.proto</span><span style=color:#5af78e>\x12\x03</span><span style=color:#5af78e>pkg</span><span style=color:#5af78e>\&#34;</span><span style=color:#5af78e>S</span><span style=color:#5af78e>\n\x0b</span><span style=color:#5af78e>TestMessage</span><span style=color:#5af78e>\x12\x10\n\x03</span><span style=color:#5af78e>i32</span><span style=color:#5af78e>\x18\x01</span><span style=color:#5af78e> </span><span style=color:#5af78e>\x01</span><span style=color:#5af78e>(</span><span style=color:#5af78e>\x05</span><span style=color:#5af78e>H</span><span style=color:#5af78e>\x00\x88\x01\x01\x12\&#34;\n\x03</span><span style=color:#5af78e>msg</span><span style=color:#5af78e>\x18\x02</span><span style=color:#5af78e> </span><span style=color:#5af78e>\x01</span><span style=color:#5af78e>(</span><span style=color:#5af78e>\x0b\x32\x10</span><span style=color:#5af78e>.pkg.TestMessageH</span><span style=color:#5af78e>\x01\x88\x01\x01\x42\x06\n\x04</span><span style=color:#5af78e>_i32B</span><span style=color:#5af78e>\x06\n\x04</span><span style=color:#5af78e>_msgb</span><span style=color:#5af78e>\x06</span><span style=color:#5af78e>proto3&#34;</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>begin</span>
</span></span><span style=display:flex><span>  <span style=color:#ff9f43>Google</span><span style=color:#ff6ac1>::</span><span style=color:#ff9f43>Protobuf</span><span style=color:#ff6ac1>::</span><span style=color:#ff9f43>DescriptorPool</span><span style=color:#ff6ac1>.</span>generated_pool<span style=color:#ff6ac1>.</span>add_serialized_file(descriptor_data)
</span></span><span style=display:flex><span><span style=color:#ff6ac1>rescue</span> <span style=color:#ff9f43>TypeError</span> <span style=color:#ff6ac1>=&gt;</span> e
</span></span><span style=display:flex><span>  <span style=color:#78787e># &lt;compatibility code, see below&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>module</span> Pkg
</span></span><span style=display:flex><span>  <span style=color:#ff9f43>TestMessage</span> <span style=color:#ff6ac1>=</span> <span style=color:#ff6ac1>::</span><span style=color:#ff9f43>Google</span><span style=color:#ff6ac1>::</span><span style=color:#ff9f43>Protobuf</span><span style=color:#ff6ac1>::</span><span style=color:#ff9f43>DescriptorPool</span><span style=color:#ff6ac1>.</span>generated_pool<span style=color:#ff6ac1>.</span>lookup(<span style=color:#5af78e>&#34;pkg.TestMessage&#34;</span>)<span style=color:#ff6ac1>.</span>msgclass
</span></span><span style=display:flex><span><span style=color:#ff6ac1>end</span>
</span></span></code></pre></div><p>This change fixes nearly all remaining conformance problems that existed
previously. This is a side effect of moving from the DSL (which is lossy) to a
serialized descriptor (which preserves all information).</p><h3 id=backward>Backward Compatibility<a class=td-heading-self-link href=#backward aria-label="Heading self-link"></a></h3><p>This change should be 100% compatible with Ruby Protobuf >= 3.18.0, released in
Sept 2021. Additionally, it should be compatible with all existing users and
deployments.</p><p>There <strong>is</strong> some special compatibility code inserted to achieve this level of
backward compatibility that you should be aware of. Without the compatibility
code, there is an edge case that could break backward compatibility. The
previous code is lax in a way that the new code will be more strict.</p><p>When using a full serialized descriptor, it contains a list of all <code>.proto</code>
files imported by this file (whereas the DSL never added dependencies properly).
See the code in
<a href=https://github.com/protocolbuffers/protobuf/blob/dfb71558a2226718dc3bcf5df27cbc11c1f72382/src/google/protobuf/descriptor.proto#L65-L66><code>descriptor.proto</code></a>.</p><p><code>add_serialized_file</code> verifies that all dependencies listed in the descriptor
were previously added with <code>add_serialized_file</code>. Generally that should be fine,
because the generated code will contain Ruby <code>require</code> statements for all
dependencies, and the descriptor will fail to load anyway if the types depended
on were not previously defined in the <code>DescriptorPool</code>.</p><p>But there is a potential for problems if there are ambiguities around file
paths. For example, consider the following scenario:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#78787e>// foo/bar.proto
</span></span></span><span style=display:flex><span><span style=color:#78787e></span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>syntax <span style=color:#ff6ac1>=</span> <span style=color:#5af78e>&#34;proto2&#34;</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span><span style=color:#ff5c57>message</span> <span style=color:#f3f99d>Bar</span> {}<span style=color:#ff5c57>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#78787e>// foo/baz.proto
</span></span></span><span style=display:flex><span><span style=color:#78787e></span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>syntax <span style=color:#ff6ac1>=</span> <span style=color:#5af78e>&#34;proto2&#34;</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span><span style=color:#ff6ac1>import</span> <span style=color:#5af78e>&#34;bar.proto&#34;</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span><span style=color:#ff5c57>message</span> <span style=color:#f3f99d>Baz</span> {<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  <span style=color:#ff6ac1>optional</span> Bar bar <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>1</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>}<span style=color:#ff5c57>
</span></span></span></code></pre></div><p>If you invoke <code>protoc</code> like so, it will work correctly:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>$ protoc --ruby_out=. -Ifoo foo/bar.proto foo/baz.proto
</span></span><span style=display:flex><span>$ RUBYLIB=. ruby baz_pb.rb
</span></span></code></pre></div><p>However if you invoke <code>protoc</code> like so, and didn&rsquo;t have any compatibility code,
it would fail to load:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript3 data-lang=gdscript3><span style=display:flex><span><span style=color:#ff6ac1>$</span> protoc <span style=color:#ff6ac1>--</span>ruby_out<span style=color:#ff6ac1>=.</span> <span style=color:#ff6ac1>-</span>I<span style=color:#ff6ac1>.</span> <span style=color:#ff6ac1>-</span>Ifoo foo<span style=color:#ff6ac1>/</span>baz<span style=color:#ff6ac1>.</span>proto
</span></span><span style=display:flex><span><span style=color:#ff6ac1>$</span> protoc <span style=color:#ff6ac1>--</span>ruby_out<span style=color:#ff6ac1>=.</span> <span style=color:#ff6ac1>-</span>I<span style=color:#ff6ac1>.</span> <span style=color:#ff6ac1>-</span>Ifoo foo<span style=color:#ff6ac1>/</span>bar<span style=color:#ff6ac1>.</span>proto
</span></span><span style=display:flex><span><span style=color:#ff6ac1>$</span> RUBYLIB<span style=color:#ff6ac1>=</span>foo ruby foo<span style=color:#ff6ac1>/</span>baz_pb<span style=color:#ff6ac1>.</span>rb
</span></span><span style=display:flex><span>foo<span style=color:#ff6ac1>/</span>baz_pb<span style=color:#ff6ac1>.</span>rb:<span style=color:#ff9f43>10</span>:<span style=color:#ff6ac1>in</span> <span style=color:#ff5c57>`</span>add_serialized_file<span style=color:#5af78e>&#39;: Unable to build file to DescriptorPool: Depends on file &#39;</span>bar<span style=color:#ff6ac1>.</span>proto<span style=color:#5af78e>&#39;, but it has not been loaded (Google::Protobuf::TypeError)</span>
</span></span><span style=display:flex><span>    from foo<span style=color:#ff6ac1>/</span>baz_pb<span style=color:#ff6ac1>.</span>rb:<span style=color:#ff9f43>10</span>:<span style=color:#ff6ac1>in</span> <span style=color:#ff5c57>`</span><span style=color:#ff6ac1>&lt;</span>main<span style=color:#ff6ac1>&gt;</span><span style=color:#5af78e>&#39;</span>
</span></span></code></pre></div><p>The problem is that <code>bar.proto</code> is being referred to by two different canonical
names: <code>bar.proto</code> and <code>foo/bar.proto</code>. This is a user error: each import should
always be referred to by a consistent full path. Hopefully user errors of this
sort will be rare, but it is hard to know without trying.</p><p>The code in this change prints a warning using <code>warn</code> if we detect that this
edge case has occurred:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript3 data-lang=gdscript3><span style=display:flex><span><span style=color:#ff6ac1>$</span> RUBYLIB<span style=color:#ff6ac1>=</span>foo ruby foo<span style=color:#ff6ac1>/</span>baz_pb<span style=color:#ff6ac1>.</span>rb
</span></span><span style=display:flex><span>Warning: Protobuf detected an import path issue <span style=color:#ff6ac1>while</span> loading generated file foo<span style=color:#ff6ac1>/</span>baz_pb<span style=color:#ff6ac1>.</span>rb
</span></span><span style=display:flex><span><span style=color:#ff6ac1>-</span> foo<span style=color:#ff6ac1>/</span>baz<span style=color:#ff6ac1>.</span>proto imports bar<span style=color:#ff6ac1>.</span>proto, but that import was loaded as foo<span style=color:#ff6ac1>/</span>bar<span style=color:#ff6ac1>.</span>proto
</span></span><span style=display:flex><span>Each proto file must use a consistent fully<span style=color:#ff6ac1>-</span>qualified name<span style=color:#ff6ac1>.</span>
</span></span><span style=display:flex><span>This will become an error <span style=color:#ff6ac1>in</span> the next major version<span style=color:#ff6ac1>.</span>
</span></span></code></pre></div><p>There are two possible fixes in this case. One is to consistently use the name
<code>bar.proto</code> for the import (removing <code>-I.</code>). The other is to consistently use
the name <code>foo/bar.proto</code> for the import (changing the import line to <code>import "foo/bar.proto"</code> and removing <code>-Ifoo</code>).</p><p>We plan to remove this compatibility code in the next major version.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-91982b16c0de8380b898ad540d4621d9>3 - Changes announced April 28, 2023</h1><div class=lead>Changes announced for Protocol Buffers on April 28, 2023.</div><h2 id=json-name>Stricter validation for <code>json_name</code><a class=td-heading-self-link href=#json-name aria-label="Heading self-link"></a></h2><p>v24 will forbid embedded null characters in the
<a href=/programming-guides/proto3/#json><code>json_name</code> field option</a>.
Going forward, any valid Unicode characters will be accepted, <strong>except</strong>
<code>\u0000</code>. Null will still be allowed in field values.</p><p>Previously, the proto compiler allowed null characters, but support for this was
inconsistent across languages and implementations. To fix this, we are
clarifying the spec to say that null is not allowed in <code>json_name</code>, and will be
rejected by the compiler.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-5d51ec823b6c0997d3f47826dc34b740>4 - Changes Announced on August 15, 2023</h1><div class=lead>Changes announced for Protocol Buffers on August 15, 2023.</div><h2 id=python-breaking-change>Python Breaking Change<a class=td-heading-self-link href=#python-breaking-change aria-label="Heading self-link"></a></h2><p>In v25
<a href=https://googleapis.dev/python/protobuf/latest/google/protobuf/message.html#google.protobuf.message.Message.UnknownFields><code>message.UnknownFields()</code></a>
will be deprecated in pure Python and C++ extensions. It will be removed in v26.
Use the new
<a href=https://googleapis.dev/python/protobuf/latest/google/protobuf/unknown_fields.html><code>UnknownFieldSet(message)</code></a>
support in <code>unknown_fields.py</code> as a replacement.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-9d3ec33a75b1bdfdcd4858651d957450>5 - Changes announced August 3, 2022</h1><div class=lead>Changes announced for Protocol Buffers on August 3, 2022.</div><p>This topic covers two areas: general platform support changes, and C++-specific
changes that are being considered for the 22.x release line.</p><h2 id=platform-changes>Platform Support Changes<a class=td-heading-self-link href=#platform-changes aria-label="Heading self-link"></a></h2><p>We&rsquo;ve added guidance about the platforms that we support in
<a href=/programming-guides/proto2#platforms>this section</a> of
the documentation. The section currently covers C++ and PHP, but may be expanded
with information about other platforms in the future.</p><h2 id=cpp-support-matrix>Official C++ Support Matrix<a class=td-heading-self-link href=#cpp-support-matrix aria-label="Heading self-link"></a></h2><p>With the policy, mentioned earlier in this announcement, of using Google&rsquo;s
official
<a href=/programming-guides/proto2#platforms>foundational C++ support policy</a>,
our
<a href=https://github.com/google/oss-policies-info/blob/8067c719150dfec6a836dd82230c5eb0ba11acd7/foundational-cxx-support-matrix.md>C++ compiler and toolchain support matrix will change</a>.</p><h2 id=cpp-changes>C++ Changes<a class=td-heading-self-link href=#cpp-changes aria-label="Heading self-link"></a></h2><p>Following the announcement of our
<a href=/news/2022-07-06/>new major version and breaking changes policy</a>,
we are planning a major version bump for C++. We plan to make some changes to
the assets that we release starting with our 22.x release line.</p><p>The following sections outline the set of breaking changes that we plan to
include in the 22.0 release of protocol buffers. Note that plans can and do
change. These are potential breaking changes to be aware of, but they may not
happen in this particular release, or they may not happen at all.</p><h3 id=c20-support>Adding C++20 Support<a class=td-heading-self-link href=#c20-support aria-label="Heading self-link"></a></h3><p>Because of the addition of new keywords to the C++ language, adding support for
C++20 is a breaking change for users even if they do not currently use C++20.</p><p>Mitigations for this to conditionally change names only in certain compiler
modes would break projects that support multiple language standards.</p><h3 id=c11-support>Dropping C++11 Support<a class=td-heading-self-link href=#c11-support aria-label="Heading self-link"></a></h3><p>Per our
<a href=https://opensource.google/documentation/policies/cplusplus-support#4_c_language_standard>C++ support policy</a>,
we plan to drop C++11 support. This is a breaking change.</p><h3 id=autotools>Dropping Autotools Support<a class=td-heading-self-link href=#autotools aria-label="Heading self-link"></a></h3><p>Per our
<a href=https://opensource.google/documentation/policies/cplusplus-support#3_build_systems>build systems support policy</a>,
we plan to drop autotools support. This is a breaking change. After autotools
support is dropped, protobuf will support only CMake and Bazel.</p><h3 id=php-74>Dropping Support for PHP &lt;7.4<a class=td-heading-self-link href=#php-74 aria-label="Heading self-link"></a></h3><p>Per our
<a href=https://cloud.google.com/php/getting-started/supported-php-versions>PHP support policy</a>,
we plan to drop support for EOL versions of PHP. This is not considered a
breaking change since these versions are already EOL in the broader ecosystem.</p><h3 id=abseil-dep>Adding an Abseil Dependency<a class=td-heading-self-link href=#abseil-dep aria-label="Heading self-link"></a></h3><p>In order to reduce the Google vs. OSS differences between protobuf and to
simplify our own project, we plan to take a formal dependency on Abseil. In
time, we plan to start using Abseil types in our public APIs, but simply adding
the dependency is a breaking change.</p><h3 id=lang-specific-distros>Dropping Language-Specific Source Distributions<a class=td-heading-self-link href=#lang-specific-distros aria-label="Heading self-link"></a></h3><p>To reduce dependence on autotools and minimize the number of artifacts we
release, we plan to stop publishing language-specific source distributions on
our
<a href=https://github.com/protocolbuffers/protobuf/releases>GitHub release page</a>.
Instead, we advise users to download the
<a href=https://github.com/protocolbuffers/protobuf/releases>source code distribution</a>
automatically generated by GitHub on the release page.</p><h3 id=idiomatic>Changing Maven Release Candidate Artifact Names to Be More Idiomatic<a class=td-heading-self-link href=#idiomatic aria-label="Heading self-link"></a></h3><p>In 22.0 we plan to rename Maven artifacts to use “RC” instead of “rc-” as the
release candidate prefix.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-9eafb84072af75e2f4d64804c8d9172a>6 - Changes Announced on August 9, 2023</h1><div class=lead>Changes announced for Protocol Buffers on August 9, 2023.</div><h2 id=net-support-policy>.NET support policy<a class=td-heading-self-link href=#net-support-policy aria-label="Heading self-link"></a></h2><p>The Protobuf team supports .NET in two ways:</p><ul><li>Generation of C# code by protoc</li><li>The <a href=https://www.nuget.org/packages/Google.Protobuf>Google.Protobuf NuGet package</a>,
which provides runtime support for the generated code, as well as reflection
and other facilities</li></ul><p>The support policy for these has previously been unclear, particularly in terms
of which .NET runtimes are supported. From August 2023 onwards, support will be
provided in accordance with the <a href=https://opensource.google/documentation/policies/dotnet-support>Google Open Source support policy for
.NET</a>. We
expect this to mean that some old versions of .NET will be dropped from the
<code>Google.Protobuf</code> package without taking a new major version.</p><p>Protobuf is relatively unusual within Google projects supporting .NET in two
respects: Firstly, as we support generating C# which we expect customers to
compile, we need to consider language versions as well as runtime versions. The
current policy does not cover this aspect of support, so we will publish a
separate policy for this. Secondly, while Unity is not a first-class
supported platform, we understand that Protobuf is commonly used on Unity, and
we will intend to avoid breaking that usage as far as is reasonably possible.</p><p>More details will be published when a new set of target platforms has been
decided for <code>Google.Protobuf</code>. This will be at least one month ahead of the
release in which it will take effect, in order to provide time for community
feedback. For now, we recommend that users review the
<a href=https://opensource.google/documentation/policies/dotnet-support>support policy</a>.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-fea6d44ab8fd5aff8caaf5d49c211b4c>7 - Changes announced on December 13, 2023</h1><div class=lead>Changes announced for Protocol Buffers on December 13, 2023.</div><h2 id=c-breaking-changes>C++ Breaking Changes<a class=td-heading-self-link href=#c-breaking-changes aria-label="Heading self-link"></a></h2><p>In v26, we are planning a major version bump for C++ as per our
<a href=/news/2022-07-06/>breaking changes policy</a> and
<a href=/support/version-support#cpp-tooling>version support policy</a>.</p><p>The following sections outline the set of breaking changes that we plan to
include in the 26.0 release of protocol buffers. Note that plans can and do
change. These are potential breaking changes to be aware of, but they may not
happen in this particular release, or they may not happen at all.</p><h3 id=remove-deprecated-clear-apis-on-repeated-fields>Remove deprecated clear APIs on repeated fields<a class=td-heading-self-link href=#remove-deprecated-clear-apis-on-repeated-fields aria-label="Heading self-link"></a></h3><p>The following deprecated methods are removed:</p><ul><li><code>RepeatedPtrField::ReleaseCleared()</code></li><li><code>RepeatedPtrField::ClearedCount()</code></li><li><code>RepeatedPtrField::AddCleared()</code></li></ul><h3 id=remove-c-legacy-syntax-descriptor-apis>Remove C++ legacy syntax descriptor APIs<a class=td-heading-self-link href=#remove-c-legacy-syntax-descriptor-apis aria-label="Heading self-link"></a></h3><p>With the release of <a href=/editions>editions</a>, syntax is no
longer supported for business logic. Instead, use the various feature helpers
defined in
<a href=/reference/cpp/api-docs/google.protobuf.descriptor><code>descriptor.h</code></a>
to query more targeted behaviors, such as
<a href=/reference/cpp/api-docs/google.protobuf.descriptor#FieldDescriptor.has_presence.details><code>has_presence</code></a>,
to query features in C++.</p><h3 id=remove-deprecated-syntax-accessor>Remove deprecated syntax accessor<a class=td-heading-self-link href=#remove-deprecated-syntax-accessor aria-label="Heading self-link"></a></h3><p>We plan to remove the deprecated syntax accessor, <code>FileDescriptor::Syntax</code>, in
v26. We recommend using the getters from <code>FileDescriptor::edition</code> instead.</p><h3 id=remove-deprecated-supportsunknownenumvalues-method>Remove deprecated SupportsUnknownEnumValues method<a class=td-heading-self-link href=#remove-deprecated-supportsunknownenumvalues-method aria-label="Heading self-link"></a></h3><p>The <code>SupportsUnknownEnumValues</code> method was
<a href=https://github.com/protocolbuffers/protobuf/pull/12129>deprecated in March, 2023</a>.
We plan to remove it in v26.</p><h3 id=remove-stdstring-error-collector-overrides>Remove std::string error collector overrides<a class=td-heading-self-link href=#remove-stdstring-error-collector-overrides aria-label="Heading self-link"></a></h3><p>We are planning to remove the deprecated <code>std::string</code> methods in error
collectors.</p><h2 id=python-breaking-changes>Python Breaking Changes<a class=td-heading-self-link href=#python-breaking-changes aria-label="Heading self-link"></a></h2><p>In v26, we are planning a major version bump for Python as per our
<a href=/news/2022-07-06/>breaking changes policy</a> and
<a href=/support/version-support#python-support>version support policy</a>.</p><h3 id=timestamps-are-checked-for-validity>Timestamps are checked for validity<a class=td-heading-self-link href=#timestamps-are-checked-for-validity aria-label="Heading self-link"></a></h3><p>In v26, the system will check if <code>Timestamp</code> values are valid. Seconds must be
in the range [-62135596800, 253402300799] and nanos must be in range [0,
999999999]. Values outside those ranges will raise an exception.</p><h3 id=remove-deprecated-syntax-accessor-1>Remove deprecated syntax accessor<a class=td-heading-self-link href=#remove-deprecated-syntax-accessor-1 aria-label="Heading self-link"></a></h3><p>We plan to remove the deprecated syntax accessor, <code>FileDescriptor.syntax</code>, in
v26. We plan to add <code>FileDescriptor.edition</code> in its place.</p><h3 id=unknownfields-support-removal>UnknownFields support removal<a class=td-heading-self-link href=#unknownfields-support-removal aria-label="Heading self-link"></a></h3><p>In v25
<a href=https://googleapis.dev/python/protobuf/latest/google/protobuf/message.html#google.protobuf.message.Message.UnknownFields><code>message.UnknownFields()</code></a>
was deprecated in pure Python and C++ extensions. We plan to remove it v26. Use
the new
<a href=https://googleapis.dev/python/protobuf/latest/google/protobuf/unknown_fields.html><code>UnknownFieldSet(message)</code></a>
support in <code>unknown_fields.py</code> as a replacement.</p><p>More details about all of these changes will be available in the corresponding
release notes.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-48b4d408bc8984c4965dac2f330a7d80>8 - Changes announced on December 27, 2023</h1><div class=lead>Changes announced for Protocol Buffers on December 27, 2023.</div><h2 id=ruby-breaking-changes>Ruby Breaking Changes<a class=td-heading-self-link href=#ruby-breaking-changes aria-label="Heading self-link"></a></h2><p>The following changes are planned for the 26.x line:</p><ul><li>Fix <code>RepeatedField#each_index</code> to have the correct semantics.
(<a href=https://github.com/protocolbuffers/protobuf/pull/11767>#11767</a>)</li><li>Remove Ruby DSL and associated compatibility code, which will complete the
<a href=/news/2023-04-20/>migration announced in April</a>.</li><li><code>Message#to_h</code> fixes:<ul><li>Remove unset oneof fields.
(<a href=https://github.com/protocolbuffers/protobuf/issues/6167>#6167</a>)</li><li>Remove unset sub-message fields</li></ul></li><li>Use message&rsquo;s pool for
<a href=https://github.com/protocolbuffers/protobuf/blob/2fb0b93d9de226ea96f2dc2b4779eb4712d01d5c/ruby/ext/google/protobuf_c/message.c#L1118><code>encode_json</code></a>/<a href=https://github.com/protocolbuffers/protobuf/blob/2fb0b93d9de226ea96f2dc2b4779eb4712d01d5c/ruby/ext/google/protobuf_c/message.c#L1004><code>decode_json</code></a>.</li><li>Remove the deprecated syntax accessor, <code>FileDescriptor.syntax</code> and add
semantic checks in its place:<ul><li><code>FieldDescriptor.has_presence</code> to test if a field has presence.</li><li><code>FieldDescriptor.is_packed</code> to test if a repeated field is packed.</li><li><code>FieldDescriptor.requires_utf8_validation</code> to test if a string field
requires UTF-8 validation.</li><li><code>EnumDescriptor.is_closed</code> to test if an enum is closed.</li></ul></li></ul><h2 id=php-breaking-changes>PHP Breaking Changes<a class=td-heading-self-link href=#php-breaking-changes aria-label="Heading self-link"></a></h2><p>The following changes are planned for the 26.x line:</p><ul><li>Validate UTF-8 for string fields in setters.</li><li>Remove generic services.
(<a href=https://github.com/protocolbuffers/protobuf/commit/40ad3fac603ba3c96e52a1266cd785a7adb8e3e4>commit 40ad3fa</a>)</li></ul><h2 id=python-breaking-changes>Python Breaking Changes<a class=td-heading-self-link href=#python-breaking-changes aria-label="Heading self-link"></a></h2><p>The following changes are planned for the 26.x line:</p><ul><li>Make <code>str(msg)</code> escape any invalid UTF-8 in string fields.</li><li>Make <code>text_format.MessageToString()</code> default to outputting raw UTF-8, while
escaping any invalid UTF-8 sequences.</li><li>Fix timestamp bounds (<a href=https://github.com/protocolbuffers/protobuf/commit/1250d5f6cccb0a45f959c7219980a0aad5060ee5>commit 1250d5f</a>)</li></ul><h2 id=upb-breaking-changes>upb Breaking Changes<a class=td-heading-self-link href=#upb-breaking-changes aria-label="Heading self-link"></a></h2><p>The following changes are planned for the 26.x line:</p><ul><li>Fix
<a href=https://github.com/protocolbuffers/protobuf/blob/2f7b2832b6a62fec88efacbb97bf0a91b6a3670e/upb/conformance/conformance_upb_failures.txt>nonconformance in JSON parsing</a>
when <code>IgnoreUnknownEnumString</code> is enabled.</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-451895d751eea12d56f40ab8045352eb>9 - Changes announced on December 5, 2023</h1><div class=lead>Changes announced for Protocol Buffers on December 5, 2023.</div><h2 id=java-breaking-changes>Java Breaking Changes<a class=td-heading-self-link href=#java-breaking-changes aria-label="Heading self-link"></a></h2><p>In v26, we are planning a major version bump for Java per our
<a href=/news/2022-07-06/>breaking changes policy</a> and
<a href=/support/version-support#java>version support policy</a>.</p><p>The following sections outline the set of breaking changes that we plan to
include in the 26.0 release of protocol buffers. Note that plans can and do
change. These are potential breaking changes to be aware of, but they may not
happen in this particular release, or they may not happen at all.</p><h3 id=poison-pilling-gencode--runtime-mismatches>Poison Pilling Gencode / Runtime Mismatches<a class=td-heading-self-link href=#poison-pilling-gencode--runtime-mismatches aria-label="Heading self-link"></a></h3><p>Per our
<a href=/support/cross-version-runtime-guarantee>Cross-Version Runtime Guarantees</a>,
Protobuf does not support mixing generated code and runtimes across major
version boundaries, or mixing generated code from a newer version of protoc with
older runtimes within a single major runtime version. We plan to introduce
“poison pills” to detect and enforce these disallowed mismatches.</p><p>This is not considered a breaking change since this simply adds enforcement of
existing policies, but may require users to update their generated code.</p><h3 id=breaking-compatibility-with-old-generated-code>Breaking Compatibility with Old Generated Code<a class=td-heading-self-link href=#breaking-compatibility-with-old-generated-code aria-label="Heading self-link"></a></h3><p>v26.x will break compatibility with generated code from older major versions.
Users should regenerate old generated code to be from the same version.</p><p>For example, <code>GeneratedMessageV3</code>, which was originally introduced for backwards
compatibility with generated code from v2.x.x against v3.x.x runtime, will be
renamed to <code>GeneratedMessage</code>. Runtimes will be updated to support
<a href=/editions/overview/>Editions</a>, which will not be
compatible with old generated code.</p><p>This is in accordance with our existing
<a href=/support/cross-version-runtime-guarantee>Cross-Version Runtime Guarantees</a>
and is a breaking change.</p><h3 id=removing-deprecated-methodsvariables>Removing Deprecated Methods/Variables<a class=td-heading-self-link href=#removing-deprecated-methodsvariables aria-label="Heading self-link"></a></h3><p>v26.x will remove access to deprecated methods and variables. These will
generally have already been marked <code>@Deprecated</code> in a previous release.</p><p>This will remove access to the following non-exhaustive list:</p><ul><li><p>Descriptor syntax APIs, which should be replaced with corresponding feature
accessors (such as <code>FieldDescriptor.hasPresence()</code>,
<code>EnumDescriptor.isClosed()</code>)</p></li><li><p>TextFormat print methods, which should be replaced by corresponding
<code>TextFormat.printer()</code> methods.</p></li><li><p>PARSER variable, which should be replaced by the <code>parser()</code> method.</p></li><li><p>Runtime methods for old v2.x.x gencode compatibility. This is no longer
supported, as per our
<a href=/support/cross-version-runtime-guarantee>Cross Version Runtime Guarantees</a>.</p></li></ul><p>More details will be available in the corresponding release notes.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-0a91651798db4b9f5598ac8385b9f385>10 - Changes Announced on February 27, 2024</h1><div class=lead>Changes announced for Protocol Buffers on February 27, 2024.</div><h2 id=dropping-ruby-27-support>Dropping Ruby 2.7 Support<a class=td-heading-self-link href=#dropping-ruby-27-support aria-label="Heading self-link"></a></h2><p>As per our official
<a href=https://cloud.google.com/ruby/getting-started/supported-ruby-versions>Ruby support policy</a>,
we will be dropping support for Ruby 2.7 and lower on March 31, 2024. The
minimum supported Ruby version will be 3.0.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-fccbd34f4f59a02a5b89f52c31c116e7>11 - Changes announced February 5, 2024</h1><div class=lead>Changes announced for Protocol Buffers on February 5, 2024.</div><p>This topic covers breaking changes in Java, C++, and Python in the 26.x line.</p><h2 id=JSON>JSON Formatter Option Changes<a class=td-heading-self-link href=#JSON aria-label="Heading self-link"></a></h2><p>Starting in the 26.x line, the JSON formatter option to print default-valued
fields is replaced with a fixed way to handle proto2 and proto3 <code>optional</code>
fields consistently.</p><ul><li>Java: <code>includingDefaultValueFields()</code> is replaced with
<code>alwaysPrintFieldsWithNoPresence()</code>.</li><li>C++: <code>always_print_default_values</code> is replaced with
<code>always_print_fields_with_no_presence=True</code>.</li><li>Py: <code>including_default_value_fields=True</code> is replaced with
<code>always_print_fields_with_no_presence=True</code>.</li></ul><p>The new flag behaves identically to the old flag on proto3 messages, but no
longer applies to proto2 <code>optional</code> fields. The old flags applied to proto2
<code>optional</code> fields but not proto3 <code>optional</code> fields.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-ec9eb6495563c729ab9db02b27022bcf>12 - Changes announced January 31, 2024</h1><div class=lead>Changes announced for Protocol Buffers on January 31, 2024.</div><p>This topic covers breaking changes in Python in the 26.x line.</p><h2 id=python-breaking-changes>Python Breaking Changes<a class=td-heading-self-link href=#python-breaking-changes aria-label="Heading self-link"></a></h2><h3 id=removing-setuppy-and-setupcfg-support-from-github>Removing <code>setup.py</code> and <code>setup.cfg</code> support from GitHub<a class=td-heading-self-link href=#removing-setuppy-and-setupcfg-support-from-github aria-label="Heading self-link"></a></h3><p>In the 26.x release, <code>setup.py</code> and <code>setup.cfg</code> will no longer be present in the
<code>python/</code> directory of
<a href=https://github.com/protocolbuffers/protobuf/tree/main/python>the GitHub repository</a>
or GitHub
<a href=https://github.com/protocolbuffers/protobuf/releases>release tarballs</a>. This
means it will no longer be possible to build a Python package directly from the
GitHub repo or release tarball.</p><p>The Python source packages published
<a href=https://pypi.org/project/protobuf/#files>on PyPI</a> <em>will</em> continue to have a
<code>setup.py</code> in the top-level directory. This is the supported and recommended way
of building Python binary packages, for users who do not want to use the binary
packages that we distribute on PyPI.</p><p>For more information, see
<a href=https://github.com/protocolbuffers/protobuf/pull/15671>#15671</a>.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-14d88b30372d07191905f6da3817d3b4>13 - Changes announced January 5, 2024</h1><div class=lead>Changes announced for Protocol Buffers on January 5, 2024.</div><p>This topic covers breaking changes in Ruby and Python in the 26.x line.</p><h2 id=ruby-breaking-changes>Ruby Breaking Changes<a class=td-heading-self-link href=#ruby-breaking-changes aria-label="Heading self-link"></a></h2><h3 id=freeze-is-now-recursive-in-ruby>Freeze Is Now Recursive in Ruby<a class=td-heading-self-link href=#freeze-is-now-recursive-in-ruby aria-label="Heading self-link"></a></h3><p>Starting in the 26.x line, when freeze is applied it will be applied
recursively, affecting all sub-messages, maps, and repeated fields.</p><h2 id=python-breaking-changes>Python Breaking Changes<a class=td-heading-self-link href=#python-breaking-changes aria-label="Heading self-link"></a></h2><h3 id=removing-deprecated-apis>Removing Deprecated APIs<a class=td-heading-self-link href=#removing-deprecated-apis aria-label="Heading self-link"></a></h3><p>In the 26.x release, the following deprecated APIs will be removed:</p><ul><li><a href=https://googleapis.dev/python/protobuf/latest/google/protobuf/descriptor_pool.html#google.protobuf.descriptor_pool.DescriptorPool.AddFileDescriptor><code>AddFileDescriptor</code></a></li><li><a href=https://googleapis.dev/python/protobuf/latest/google/protobuf/descriptor_pool.html#google.protobuf.descriptor_pool.DescriptorPool.AddDescriptor><code>AddDescriptor</code></a></li><li><a href=https://googleapis.dev/python/protobuf/latest/google/protobuf/descriptor_pool.html#google.protobuf.descriptor_pool.DescriptorPool.AddEnumDescriptor><code>AddEnumDescriptor</code></a></li><li><a href=https://googleapis.dev/python/protobuf/latest/google/protobuf/descriptor_pool.html#google.protobuf.descriptor_pool.DescriptorPool.AddExtensionDescriptor><code>AddExtensionDescriptor</code></a></li><li><a href=https://googleapis.dev/python/protobuf/latest/google/protobuf/descriptor_pool.html#google.protobuf.descriptor_pool.DescriptorPool.AddServiceDescriptor><code>AddServiceDescriptor</code></a></li></ul><h3 id=rejecting-extend-repeated-field-with-none-iterable>Rejecting Extend Repeated Field with None Iterable<a class=td-heading-self-link href=#rejecting-extend-repeated-field-with-none-iterable aria-label="Heading self-link"></a></h3><p>Starting in the 26.x release, extending repeated fields with a <code>None</code> iterable
will be rejected (it will raise a <code>TypeError</code>). For example,
<code>m.repeated_int32.extend(None)</code> will be rejected.</p><h3 id=removing-registerextension-in-message-class>Removing RegisterExtension in message class<a class=td-heading-self-link href=#removing-registerextension-in-message-class aria-label="Heading self-link"></a></h3><p>Starting in the 26.x release,
<a href=https://googleapis.dev/python/protobuf/latest/google/protobuf/descriptor_pb2.html#google.protobuf.descriptor_pb2.DescriptorProto.ExtensionRange.RegisterExtension><code>RegisterExtension</code></a>
will be removed. You can access extensions in Python using the <code>Extensions</code>
property on message objects.</p><p>This affects both pure Python and the C++ implementation of Python, but not upb
Python.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-5f3fe2d87195af24e385f61253f9312e>14 - Changes Announced on July 17, 2023</h1><div class=lead>Changes announced for Protocol Buffers on July 17, 2023.</div><h2 id=dropping-bazel-5x-support>Dropping Bazel 5.x Support<a class=td-heading-self-link href=#dropping-bazel-5x-support aria-label="Heading self-link"></a></h2><p>As per our official
<a href=https://opensource.google/documentation/policies/cplusplus-support>support policy</a>,
we will be dropping support for Bazel 5.x and lower. This means the minimum
supported Bazel version is 6.2.x.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-78cf0b0047da93cd410264f7acd5f267>15 - Changes announced July 6, 2022</h1><div class=lead>Changes announced for Protocol Buffers on July 6, 2022.</div><h2 id=library-breaking-change-policy>Library Breaking Change Policy<a class=td-heading-self-link href=#library-breaking-change-policy aria-label="Heading self-link"></a></h2><p>Google released its
<a href=https://opensource.google/documentation/policies/library-breaking-change>OSS Library Breaking Change Policy</a>,
which some Google-sponsored open source projects have opted into. Protocol
buffers has adopted this policy.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-bb5d32cf1dd1459d0c9b4c3abacdae50>16 - Changes Announced on July 6, 2023</h1><div class=lead>Changes announced for Protocol Buffers on July 6, 2023.</div><h2 id=dropping-php-7x-support>Dropping PHP 7.x Support<a class=td-heading-self-link href=#dropping-php-7x-support aria-label="Heading self-link"></a></h2><p>As per our official
<a href=https://cloud.google.com/php/getting-started/supported-php-versions>PHP support policy</a>,
we will be dropping support for PHP 7.4 and lower. This means the minimum
supported PHP version is 8.0.</p><p>If you are running an older version of PHP, you can install a previous release
of the protobuf PHP extension by running <code>pecl install protobuf-3.23.3</code>.</p><h2 id=dropping-ruby-26-support>Dropping Ruby 2.6 Support<a class=td-heading-self-link href=#dropping-ruby-26-support aria-label="Heading self-link"></a></h2><p>As per our official
<a href=https://cloud.google.com/ruby/getting-started/supported-ruby-versions>Ruby support policy</a>,
we will be dropping support for Ruby 2.6 and lower. This means the minimum
supported Ruby version is 2.7.</p><h2 id=dropping-python-37-support>Dropping Python 3.7 Support<a class=td-heading-self-link href=#dropping-python-37-support aria-label="Heading self-link"></a></h2><p>As per our official
<a href=https://cloud.google.com/python/docs/supported-python-versions>Python support policy</a>,
we will be dropping support for Python 3.7 and lower. This means the minimum
supported Python version is 3.8.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-1578652fdded2f34f3259273a63fdd5c>17 - Changes Announced on June 29, 2023</h1><div class=lead>Changes announced for Protocol Buffers on June 29, 2023.</div><p><strong>TL;DR:</strong> We are planning to release Protobuf Editions to the open source project in the second half of 2023. While there is no requirement to move from proto2/proto3 syntax to Editions syntax at initial release, we encourage you to plan a move in your software project&rsquo;s future timeline.</p><h2 id=editions>Protobuf Editions<a class=td-heading-self-link href=#editions aria-label="Heading self-link"></a></h2><p>Protobuf Editions replace the proto2 and proto3 designations that we have used
for Protocol Buffers. Instead of adding <code>syntax = "proto2"</code> or <code>syntax = "proto3"</code> at the top of proto definition files, you use an edition number, such
as <code>edition = "2024"</code>, to specify the default behaviors your file will have.
Editions enable the language to evolve incrementally over time.</p><p>Instead of the hardcoded behaviors in older versions, editions will represent a
collection of “features” with a default value (behavior) per feature, which you
can override. Features are options on a file, message, field, enum, and so on
that specify the behavior of protoc, the code generators, and protobuf runtimes.
You can explicitly override the desired behavior at those different levels
(file, message, field, &mldr;) when your needs don&rsquo;t match the default behavior for
the edition you&rsquo;ve selected.</p><p>Editions won&rsquo;t break existing binaries, and the first edition will be minimally
disruptive; it will establish the baseline and will combine proto2 and proto3
definitions into a new single definition format. It won&rsquo;t require any changes to
your code. We will be providing a tool, called Prototiller, to migrate .proto
files. The following examples show a proto2 definition file and a proto3 file,
and what each might look like after using Prototiller to convert them to
Protobuf Editions format:</p><section class=tabs><h4 id=proto2-syntax>Proto2 syntax<a class=td-heading-self-link href=#proto2-syntax aria-label="Heading self-link"></a></h4><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#78787e>// proto2 file
</span></span></span><span style=display:flex><span><span style=color:#78787e></span>syntax <span style=color:#ff6ac1>=</span> <span style=color:#5af78e>&#34;proto2&#34;</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span><span style=color:#ff5c57>message</span> <span style=color:#f3f99d>Player</span> {<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  <span style=color:#78787e>// in proto2, optional fields have explicit presence
</span></span></span><span style=display:flex><span><span style=color:#78787e></span>  <span style=color:#ff6ac1>optional</span> <span style=color:#9aedfe>string</span> name <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>1</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  <span style=color:#78787e>// proto2 still supports the problematic &#34;required&#34; field rule
</span></span></span><span style=display:flex><span><span style=color:#78787e></span>  <span style=color:#ff6ac1>required</span> <span style=color:#9aedfe>int32</span> id <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>2</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  <span style=color:#78787e>// in proto2 this is not packed by default
</span></span></span><span style=display:flex><span><span style=color:#78787e></span>  <span style=color:#ff6ac1>repeated</span> <span style=color:#9aedfe>int32</span> scores <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>3</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  <span style=color:#ff5c57>enum</span> Handed {<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>    HANDED_UNSPECIFIED <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>0</span>,<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>    HANDED_LEFT <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>1</span>,<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>    HANDED_RIGHT <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>2</span>,<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>    HANDED_AMBIDEXTROUS <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>3</span>,<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  }<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  <span style=color:#78787e>// in proto2 enums are closed
</span></span></span><span style=display:flex><span><span style=color:#78787e></span>  <span style=color:#ff6ac1>optional</span> Handed handed <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>4</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>}<span style=color:#ff5c57>
</span></span></span></code></pre></div><h4 id=editions-syntax>Editions syntax<a class=td-heading-self-link href=#editions-syntax aria-label="Heading self-link"></a></h4><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#78787e>// Editions version of proto2 file
</span></span></span><span style=display:flex><span><span style=color:#78787e></span>edition <span style=color:#ff6ac1>=</span> <span style=color:#5af78e>&#34;2023&#34;</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span><span style=color:#ff5c57>message</span> <span style=color:#f3f99d>Player</span> {<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  <span style=color:#9aedfe>string</span> name <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>1</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  <span style=color:#9aedfe>int32</span> id <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>2</span> [features.field_presence <span style=color:#ff6ac1>=</span> LEGACY_REQUIRED];<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  <span style=color:#ff6ac1>repeated</span> <span style=color:#9aedfe>int32</span> scores <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>3</span> [features.repeated_field_encoding <span style=color:#ff6ac1>=</span> EXPANDED];<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  <span style=color:#ff5c57>enum</span> Handed {<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>    <span style=color:#78787e>// this overrides the default Edition 2023 behavior, which is OPEN
</span></span></span><span style=display:flex><span><span style=color:#78787e></span>    <span style=color:#ff6ac1>option</span> features.enum <span style=color:#ff6ac1>=</span> CLOSED;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>    HANDED_UNSPECIFIED <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>0</span>,<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>    HANDED_LEFT <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>1</span>,<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>    HANDED_RIGHT <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>2</span>,<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>    HANDED_AMBIDEXTROUS <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>3</span>,<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  }<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  Handed handed <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>4</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>}<span style=color:#ff5c57>
</span></span></span></code></pre></div></section><p>And this is what a similar proto3 definition file might look like:</p><section class=tabs><h4 id=proto3-syntax>Proto3 syntax<a class=td-heading-self-link href=#proto3-syntax aria-label="Heading self-link"></a></h4><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#78787e>// proto3 file
</span></span></span><span style=display:flex><span><span style=color:#78787e></span>syntax <span style=color:#ff6ac1>=</span> <span style=color:#5af78e>&#34;proto3&#34;</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span><span style=color:#ff5c57>message</span> <span style=color:#f3f99d>Player</span> {<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  <span style=color:#78787e>// in proto3, optional fields have explicit presence
</span></span></span><span style=display:flex><span><span style=color:#78787e></span>  <span style=color:#ff6ac1>optional</span> <span style=color:#9aedfe>string</span> name <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>1</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  <span style=color:#78787e>// in proto3 no specified field rule defaults to implicit presence
</span></span></span><span style=display:flex><span><span style=color:#78787e></span>  <span style=color:#9aedfe>int32</span> id <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>2</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  <span style=color:#78787e>// in proto3 this is packed by default
</span></span></span><span style=display:flex><span><span style=color:#78787e></span>  <span style=color:#ff6ac1>repeated</span> <span style=color:#9aedfe>int32</span> scores <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>3</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  <span style=color:#ff5c57>enum</span> Handed {<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>    HANDED_UNSPECIFIED <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>0</span>,<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>    HANDED_LEFT <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>1</span>,<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>    HANDED_RIGHT <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>2</span>,<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>    HANDED_AMBIDEXTROUS <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>3</span>,<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  }<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  <span style=color:#78787e>// in proto3 enums are open
</span></span></span><span style=display:flex><span><span style=color:#78787e></span>  <span style=color:#ff6ac1>optional</span> Handed handed <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>4</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>}<span style=color:#ff5c57>
</span></span></span></code></pre></div><h4 id=editions-syntax-1>Editions syntax<a class=td-heading-self-link href=#editions-syntax-1 aria-label="Heading self-link"></a></h4><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#78787e>// Editions version of proto3 file
</span></span></span><span style=display:flex><span><span style=color:#78787e></span>edition <span style=color:#ff6ac1>=</span> <span style=color:#5af78e>&#34;2023&#34;</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span><span style=color:#ff5c57>message</span> <span style=color:#f3f99d>Player</span> {<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  <span style=color:#9aedfe>string</span> name <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>1</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  <span style=color:#9aedfe>int32</span> id <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>2</span> [features.field_presence <span style=color:#ff6ac1>=</span> IMPLICIT];<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  <span style=color:#ff6ac1>repeated</span> <span style=color:#9aedfe>int32</span> scores <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>3</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  <span style=color:#ff5c57>enum</span> Handed {<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>    HANDED_UNSPECIFIED <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>0</span>,<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>    HANDED_LEFT <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>1</span>,<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>    HANDED_RIGHT <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>2</span>,<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>    HANDED_AMBIDEXTROUS <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>3</span>,<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  }<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  Handed handed <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>4</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>}<span style=color:#ff5c57>
</span></span></span></code></pre></div></section><p>While the examples provided in this topic show a direct translation of proto2
and proto3 to the equivalent representation using Protobuf Editions, you will be
able to mix and match the settings to your project&rsquo;s needs.</p><p>Features have a lifecycle that is governed by the releases of editions. For
example, <code>features.awesome_new_feature</code> might be added in Edition 2031, with the
new behavior applying to all definitions that don&rsquo;t explicitly override the new
behavior. In Edition 2033, the new feature is deprecated. Overrides still work,
but developers are alerted to the fact that they need to adapt to the new
behavior soon. In Edition 2036, the feature is removed and the new behavior
applies to all protos; there is no way to override the new behavior at this
point.</p><p><img alt="Editions lifecycle" src=/images/protobuf-editions-lifecycle-short.png title="Editions lifecycle"><br><strong>Figure 1: Editions lifecycle flowchart</strong></p><p>Editions are planned to be released roughly once a year. For more information on
Protobuf Editions, see the overview at <a href=https://protobuf.dev/editions/overview>https://protobuf.dev/editions/overview</a>.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-4b0d6dea0a9b5c93fda4eaf58f3bc5f3>18 - Changes announced May 6, 2022</h1><div class=lead>Changes announced for Protocol Buffers on May 6, 2022.</div><h2 id=versioning>Versioning<a class=td-heading-self-link href=#versioning aria-label="Heading self-link"></a></h2><p>We changed our versioning scheme to enable more-nimble updates to
language-specific parts of Protocol Buffers. In the new scheme, each language
has its own major version that can be incremented independently of other
languages, as covered later in this topic with the Python release. The minor and
patch versions, however, will remain coupled. This allows us to introduce
breaking changes into some languages without requiring a bump of the major
version in languages that do not experience a breaking change.</p><p>The first instance of this new versioning scheme is the new version of the
Python API, 4.21.0, which follows the preceding version, 3.20.1. Other language
APIs will be released as 3.21.0.</p><h2 id=python-updates>Python Updates<a class=td-heading-self-link href=#python-updates aria-label="Heading self-link"></a></h2><p>We made some changes in Python language support in Protocol Buffers. Version
4.21.0 is a new major version, following 3.20.1. The new version is based on the
<a href=https://github.com/protocolbuffers/upb>upb library</a>, and offers
significantly better parsing performance than previous releases, especially for
large payloads. It also includes prebuilt binary modules for Apple silicon for
increased performance without a manual build.</p><p>The new release does contain some breaking changes. Specifically:</p><ul><li>The
<a href=https://googleapis.dev/python/protobuf/3.17.0/google/protobuf/message.html#google.protobuf.message.Message.UnknownFields><code>UnknownFields()</code></a>
method, which relied on an implicitly created class, is replaced with the
explicitly-created <code>UnknownFieldSet</code> class.</li><li>Some non-core characteristics may have changed, such as the specific format
of certain strings or error messages. These are not considered breaking
changes, but may still impact your existing code base.</li><li>Applications that rely on sharing messages between Python and C++ break in
the new version. Most developers won&rsquo;t be affected by this, but users of
<a href=https://github.com/google/nucleus>Nucleus</a> and possibly other
libraries may be. As a workaround, you can
<a href=/reference/python/python-generated#sharing-messages>set an environment variable</a>
that forces the library to preserve compatibility.</li><li>Python upb requires generated code that has been generated from protoc
3.19.0 or newer.</li></ul><h2 id=javascript>JavaScript Support<a class=td-heading-self-link href=#javascript aria-label="Heading self-link"></a></h2><p>We moved some things around for Protocol Buffer support of JavaScript to allow
JavaScript to evolve and release independently of the main repo. Specifically,
we decoupled the language support from the
<a href=https://github.com/protocolbuffers/protobuf>main project</a> and moved
it into its
<a href=https://github.com/protocolbuffers/protobuf-javascript>own repository</a>.</p><p>If you have created any pull requests related to JavaScript support in Protocol
Buffers that you&rsquo;d still like to merge, feel free to replicate those against the
JavaScript repository. We will transfer GitHub issues automatically.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-e933443c8e8d2e379406125a7a7281c1>19 - Changes announced on October 10, 2023</h1><div class=lead>Changes announced for Protocol Buffers on October 10, 2023.</div><h2 id=protobuf-editions-features>Protobuf Editions Features<a class=td-heading-self-link href=#protobuf-editions-features aria-label="Heading self-link"></a></h2><p>Documentation that introduces
<a href=/editions/features>Protobuf Editions features</a> is now
available.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-08ada742e97f9d06a70bcbf7ae1fd313>20 - Changes announced on September 15, 2023</h1><div class=lead>Changes announced for Protocol Buffers on September 15, 2023.</div><h2 id=μpb-moving-to-the-protobuf-git-repository>μpb Moving to the Protobuf Git Repository<a class=td-heading-self-link href=#%ce%bcpb-moving-to-the-protobuf-git-repository aria-label="Heading self-link"></a></h2><p>Starting with the v25 release, μpb now lives in the
<a href=https://github.com/protocolbuffers/protobuf>protobuf repo</a> instead
of in its <a href=https://github.com/protocolbuffers/upb>former location</a>
in a separate repo. All μpb development going forward will take place only in
the new location.</p><p>The merger of the two repos will simplify and speed up our development process
by removing the need to update pinned version dependencies between protobuf and
μpb. Changes to μpb now take effect immediately in protobuf code and vice versa,
without the need for a manual upgrade step.</p><p>We expect that most users will not need to take much, if any, action to
accommodate the change. μpb is the engine behind our Ruby, PHP, and Python
implementations, but you will most likely not notice the change unless you have
code that refers to μpb directly.</p><p>If you refer to μpb from a Bazel project, you will need to update μpb references
to point to protobuf instead (for example, replace <code>@upb</code> with
<code>@com_google_protobuf</code>). We are keeping μpb file paths and Bazel targets the
same to minimize the need for additional changes, but there are two exceptions:</p><ul><li>The <code>upbc</code> directory has been renamed <code>upb_generator</code>.</li><li>The top-level <code>BUILD</code> file for μpb has moved into the <code>upb</code> directory. So,
for example, references to <code>@upb//:reflection</code> should now be written
<code>@com_google_protobuf//upb:reflection</code>.</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-a4312a9ae5a46d71d415a93d0717cf1a>21 - News Announcements for Version 21.x</h1><div class=lead>Changes announced for Protocol Buffers version 21.x.</div><p>The following announcements are specific to Version 21.x. For information
presented chronologically, see <a href=/news/>News</a>.</p><h2 id=python-updates>Python Updates<a class=td-heading-self-link href=#python-updates aria-label="Heading self-link"></a></h2><p>We made some changes in Python language support in Protocol Buffers. Version
4.21.0 is a new major version, following 3.20.1. The new version is based on the
<a href=https://github.com/protocolbuffers/upb>upb library</a>, and offers
significantly better parsing performance than previous releases, especially for
large payloads. It also includes prebuilt binary modules for Apple silicon for
increased performance without a manual build.</p><p>The new release does contain some breaking changes. Specifically:</p><ul><li>The
<a href=https://googleapis.dev/python/protobuf/3.17.0/google/protobuf/message.html#google.protobuf.message.Message.UnknownFields><code>UnknownFields()</code></a>
method, which relied on an implicitly created class, is replaced with the
explicitly-created <code>UnknownFieldSet</code> class.</li><li>Some non-core characteristics may have changed, such as the specific format
of certain strings or error messages. These are not considered breaking
changes, but may still impact your existing code base.</li><li>Applications that rely on sharing messages between Python and C++ break in
the new version. Most developers won&rsquo;t be affected by this, but users of
<a href=https://github.com/google/nucleus>Nucleus</a> and possibly other
libraries may be. As a workaround, you can
<a href=/reference/python/python-generated#sharing-messages>set an environment variable</a>
that forces the library to preserve compatibility.</li><li>Python upb requires generated code that has been generated from protoc
3.19.0 or newer.</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-9f92a604c9c545d20e93accfe989948e>22 - News Announcements for Version 22.x</h1><div class=lead>Changes announced for Protocol Buffers version 22.x.</div><p>The following announcements are specific to Version 22.x. For information
presented chronologically, see <a href=/news/>News</a>.</p><h3 id=idiomatic>Changing Maven Release Candidate Artifact Names to Be More Idiomatic<a class=td-heading-self-link href=#idiomatic aria-label="Heading self-link"></a></h3><p>In 22.0 we plan to rename Maven artifacts to use “RC” instead of “rc-” as the
release candidate prefix.</p><h3 id=abseil-dep>Adding an Abseil Dependency<a class=td-heading-self-link href=#abseil-dep aria-label="Heading self-link"></a></h3><p>In order to reduce the Google vs. OSS differences between protobuf and to
simplify our own project, we plan to take a formal dependency on Abseil. In
time, we plan to start using Abseil types in our public APIs, but simply adding
the dependency is a breaking change.</p><h3 id=php-74>Dropping Support for PHP &lt;7.4<a class=td-heading-self-link href=#php-74 aria-label="Heading self-link"></a></h3><p>Per our
<a href=https://cloud.google.com/php/getting-started/supported-php-versions>PHP support policy</a>,
we plan to drop support for EOL versions of PHP. This is not considered a
breaking change since these versions are already EOL in the broader ecosystem.</p><h3 id=autotools>Dropping Autotools Support<a class=td-heading-self-link href=#autotools aria-label="Heading self-link"></a></h3><p>Per our
<a href=https://opensource.google/documentation/policies/cplusplus-support#3_build_systems>build systems support policy</a>,
we plan to drop autotools support. This is a breaking change. After autotools
support is dropped, protobuf will support only CMake and Bazel.</p><h3 id=c11-support>Dropping C++11 Support<a class=td-heading-self-link href=#c11-support aria-label="Heading self-link"></a></h3><p>Per our
<a href=https://opensource.google/documentation/policies/cplusplus-support#4_c_language_standard>C++ support policy</a>,
we plan to drop C++11 support. This is a breaking change.</p><h3 id=c20-support>Adding C++20 Support<a class=td-heading-self-link href=#c20-support aria-label="Heading self-link"></a></h3><p>Because of the addition of new keywords to the C++ language, adding support for
C++20 is a breaking change for users even if they do not currently use C++20.</p><p>Mitigations for this to conditionally change names only in certain compiler
modes would break projects that support multiple language standards.</p><h2 id=cpp-changes>C++ Changes<a class=td-heading-self-link href=#cpp-changes aria-label="Heading self-link"></a></h2><p>Following the announcement of our
<a href=/news/2022-07-06/>new major version and breaking changes policy</a>,
we are planning a major version bump for C++. We plan to make some changes to
the assets that we release starting with our 22.x release line.</p><p>The following sections outline the set of breaking changes that we plan to
include in the 22.0 release of protocol buffers. Note that plans can and do
change. These are potential breaking changes to be aware of, but they may not
happen in this particular release, or they may not happen at all.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-10cf400c02ea4fe3d3c54d12d81f98c1>23 - News Announcements for Version 23.x</h1><div class=lead>Changes announced for Protocol Buffers version 23.x.</div><p>The following announcements are specific to Version 23.x. For information
presented chronologically, see <a href=/news/>News</a>.</p><h2 id=ruby>Changes to Ruby Generator<a class=td-heading-self-link href=#ruby aria-label="Heading self-link"></a></h2><p><a href=https://github.com/protocolbuffers/protobuf/pull/12319>This GitHub PR</a>, which
will appear in the 23.x release, changes the Ruby code generator to emit a
serialized proto instead of the DSL.</p><p>It removes the DSL from the code generator in anticipation of splitting the DSL
out into a separate package.</p><p>Given a .proto file like:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span>syntax <span style=color:#ff6ac1>=</span> <span style=color:#5af78e>&#34;proto3&#34;</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span><span style=color:#ff6ac1>package</span> pkg;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span><span style=color:#ff5c57>message</span> <span style=color:#f3f99d>TestMessage</span> {<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  <span style=color:#ff6ac1>optional</span> <span style=color:#9aedfe>int32</span> i32 <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>1</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  <span style=color:#ff6ac1>optional</span> TestMessage msg <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>2</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>}<span style=color:#ff5c57>
</span></span></span></code></pre></div><p>Generated code before:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span><span style=color:#78787e># Generated by the protocol buffer compiler.  DO NOT EDIT!</span>
</span></span><span style=display:flex><span><span style=color:#78787e># source: protoc_explorer/main.proto</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff5c57>require</span> <span style=color:#5af78e>&#39;google/protobuf&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff9f43>Google</span><span style=color:#ff6ac1>::</span><span style=color:#ff9f43>Protobuf</span><span style=color:#ff6ac1>::</span><span style=color:#ff9f43>DescriptorPool</span><span style=color:#ff6ac1>.</span>generated_pool<span style=color:#ff6ac1>.</span>build <span style=color:#ff6ac1>do</span>
</span></span><span style=display:flex><span>  add_file(<span style=color:#5af78e>&#34;test.proto&#34;</span>, <span style=color:#5af78e>:syntax</span> <span style=color:#ff6ac1>=&gt;</span> <span style=color:#5af78e>:proto3</span>) <span style=color:#ff6ac1>do</span>
</span></span><span style=display:flex><span>    add_message <span style=color:#5af78e>&#34;pkg.TestMessage&#34;</span> <span style=color:#ff6ac1>do</span>
</span></span><span style=display:flex><span>      proto3_optional <span style=color:#5af78e>:i32</span>, <span style=color:#5af78e>:int32</span>, <span style=color:#ff9f43>1</span>
</span></span><span style=display:flex><span>      proto3_optional <span style=color:#5af78e>:msg</span>, <span style=color:#5af78e>:message</span>, <span style=color:#ff9f43>2</span>, <span style=color:#5af78e>&#34;pkg.TestMessage&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>end</span>
</span></span><span style=display:flex><span>  <span style=color:#ff6ac1>end</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>module</span> Pkg
</span></span><span style=display:flex><span>  <span style=color:#ff9f43>TestMessage</span> <span style=color:#ff6ac1>=</span> <span style=color:#ff6ac1>::</span><span style=color:#ff9f43>Google</span><span style=color:#ff6ac1>::</span><span style=color:#ff9f43>Protobuf</span><span style=color:#ff6ac1>::</span><span style=color:#ff9f43>DescriptorPool</span><span style=color:#ff6ac1>.</span>generated_pool<span style=color:#ff6ac1>.</span>lookup(<span style=color:#5af78e>&#34;pkg.TestMessage&#34;</span>)<span style=color:#ff6ac1>.</span>msgclass
</span></span><span style=display:flex><span><span style=color:#ff6ac1>end</span>
</span></span></code></pre></div><p>Generated code after:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span><span style=color:#78787e># frozen_string_literal: true</span>
</span></span><span style=display:flex><span><span style=color:#78787e># Generated by the protocol buffer compiler.  DO NOT EDIT!</span>
</span></span><span style=display:flex><span><span style=color:#78787e># source: test.proto</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff5c57>require</span> <span style=color:#5af78e>&#39;google/protobuf&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>descriptor_data <span style=color:#ff6ac1>=</span> <span style=color:#5af78e>&#34;</span><span style=color:#5af78e>\n\n</span><span style=color:#5af78e>test.proto</span><span style=color:#5af78e>\x12\x03</span><span style=color:#5af78e>pkg</span><span style=color:#5af78e>\&#34;</span><span style=color:#5af78e>S</span><span style=color:#5af78e>\n\x0b</span><span style=color:#5af78e>TestMessage</span><span style=color:#5af78e>\x12\x10\n\x03</span><span style=color:#5af78e>i32</span><span style=color:#5af78e>\x18\x01</span><span style=color:#5af78e> </span><span style=color:#5af78e>\x01</span><span style=color:#5af78e>(</span><span style=color:#5af78e>\x05</span><span style=color:#5af78e>H</span><span style=color:#5af78e>\x00\x88\x01\x01\x12\&#34;\n\x03</span><span style=color:#5af78e>msg</span><span style=color:#5af78e>\x18\x02</span><span style=color:#5af78e> </span><span style=color:#5af78e>\x01</span><span style=color:#5af78e>(</span><span style=color:#5af78e>\x0b\x32\x10</span><span style=color:#5af78e>.pkg.TestMessageH</span><span style=color:#5af78e>\x01\x88\x01\x01\x42\x06\n\x04</span><span style=color:#5af78e>_i32B</span><span style=color:#5af78e>\x06\n\x04</span><span style=color:#5af78e>_msgb</span><span style=color:#5af78e>\x06</span><span style=color:#5af78e>proto3&#34;</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>begin</span>
</span></span><span style=display:flex><span>  <span style=color:#ff9f43>Google</span><span style=color:#ff6ac1>::</span><span style=color:#ff9f43>Protobuf</span><span style=color:#ff6ac1>::</span><span style=color:#ff9f43>DescriptorPool</span><span style=color:#ff6ac1>.</span>generated_pool<span style=color:#ff6ac1>.</span>add_serialized_file(descriptor_data)
</span></span><span style=display:flex><span><span style=color:#ff6ac1>rescue</span> <span style=color:#ff9f43>TypeError</span> <span style=color:#ff6ac1>=&gt;</span> e
</span></span><span style=display:flex><span>  <span style=color:#78787e># &lt;compatibility code, see below&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>module</span> Pkg
</span></span><span style=display:flex><span>  <span style=color:#ff9f43>TestMessage</span> <span style=color:#ff6ac1>=</span> <span style=color:#ff6ac1>::</span><span style=color:#ff9f43>Google</span><span style=color:#ff6ac1>::</span><span style=color:#ff9f43>Protobuf</span><span style=color:#ff6ac1>::</span><span style=color:#ff9f43>DescriptorPool</span><span style=color:#ff6ac1>.</span>generated_pool<span style=color:#ff6ac1>.</span>lookup(<span style=color:#5af78e>&#34;pkg.TestMessage&#34;</span>)<span style=color:#ff6ac1>.</span>msgclass
</span></span><span style=display:flex><span><span style=color:#ff6ac1>end</span>
</span></span></code></pre></div><p>This change fixes nearly all remaining conformance problems that existed
previously. This is a side effect of moving from the DSL (which is lossy) to a
serialized descriptor (which preserves all information).</p><h3 id=backward>Backward Compatibility<a class=td-heading-self-link href=#backward aria-label="Heading self-link"></a></h3><p>This change should be 100% compatible with Ruby Protobuf >= 3.18.0, released in
Sept 2021. Additionally, it should be compatible with all existing users and
deployments.</p><p>There <strong>is</strong> some special compatibility code inserted to achieve this level of
backward compatibility that you should be aware of. Without the compatibility
code, there is an edge case that could break backward compatibility. The
previous code is lax in a way that the new code will be more strict.</p><p>When using a full serialized descriptor, it contains a list of all <code>.proto</code>
files imported by this file (whereas the DSL never added dependencies properly).
See the code in
<a href=https://github.com/protocolbuffers/protobuf/blob/dfb71558a2226718dc3bcf5df27cbc11c1f72382/src/google/protobuf/descriptor.proto#L65-L66><code>descriptor.proto</code></a>.</p><p><code>add_serialized_file</code> verifies that all dependencies listed in the descriptor
were previously added with <code>add_serialized_file</code>. Generally that should be fine,
because the generated code will contain Ruby <code>require</code> statements for all
dependencies, and the descriptor will fail to load anyway if the types depended
on were not previously defined in the <code>DescriptorPool</code>.</p><p>But there is a potential for problems if there are ambiguities around file
paths. For example, consider the following scenario:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#78787e>// foo/bar.proto
</span></span></span><span style=display:flex><span><span style=color:#78787e></span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>syntax <span style=color:#ff6ac1>=</span> <span style=color:#5af78e>&#34;proto2&#34;</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span><span style=color:#ff5c57>message</span> <span style=color:#f3f99d>Bar</span> {}<span style=color:#ff5c57>
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#78787e>// foo/baz.proto
</span></span></span><span style=display:flex><span><span style=color:#78787e></span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>syntax <span style=color:#ff6ac1>=</span> <span style=color:#5af78e>&#34;proto2&#34;</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span><span style=color:#ff6ac1>import</span> <span style=color:#5af78e>&#34;bar.proto&#34;</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span><span style=color:#ff5c57>message</span> <span style=color:#f3f99d>Baz</span> {<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>  <span style=color:#ff6ac1>optional</span> Bar bar <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>1</span>;<span style=color:#ff5c57>
</span></span></span><span style=display:flex><span><span style=color:#ff5c57></span>}<span style=color:#ff5c57>
</span></span></span></code></pre></div><p>If you invoke <code>protoc</code> like so, it will work correctly:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>$ protoc --ruby_out=. -Ifoo foo/bar.proto foo/baz.proto
</span></span><span style=display:flex><span>$ RUBYLIB=. ruby baz_pb.rb
</span></span></code></pre></div><p>However if you invoke <code>protoc</code> like so, and didn&rsquo;t have any compatibility code,
it would fail to load:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript3 data-lang=gdscript3><span style=display:flex><span><span style=color:#ff6ac1>$</span> protoc <span style=color:#ff6ac1>--</span>ruby_out<span style=color:#ff6ac1>=.</span> <span style=color:#ff6ac1>-</span>I<span style=color:#ff6ac1>.</span> <span style=color:#ff6ac1>-</span>Ifoo foo<span style=color:#ff6ac1>/</span>baz<span style=color:#ff6ac1>.</span>proto
</span></span><span style=display:flex><span><span style=color:#ff6ac1>$</span> protoc <span style=color:#ff6ac1>--</span>ruby_out<span style=color:#ff6ac1>=.</span> <span style=color:#ff6ac1>-</span>I<span style=color:#ff6ac1>.</span> <span style=color:#ff6ac1>-</span>Ifoo foo<span style=color:#ff6ac1>/</span>bar<span style=color:#ff6ac1>.</span>proto
</span></span><span style=display:flex><span><span style=color:#ff6ac1>$</span> RUBYLIB<span style=color:#ff6ac1>=</span>foo ruby foo<span style=color:#ff6ac1>/</span>baz_pb<span style=color:#ff6ac1>.</span>rb
</span></span><span style=display:flex><span>foo<span style=color:#ff6ac1>/</span>baz_pb<span style=color:#ff6ac1>.</span>rb:<span style=color:#ff9f43>10</span>:<span style=color:#ff6ac1>in</span> <span style=color:#ff5c57>`</span>add_serialized_file<span style=color:#5af78e>&#39;: Unable to build file to DescriptorPool: Depends on file &#39;</span>bar<span style=color:#ff6ac1>.</span>proto<span style=color:#5af78e>&#39;, but it has not been loaded (Google::Protobuf::TypeError)</span>
</span></span><span style=display:flex><span>    from foo<span style=color:#ff6ac1>/</span>baz_pb<span style=color:#ff6ac1>.</span>rb:<span style=color:#ff9f43>10</span>:<span style=color:#ff6ac1>in</span> <span style=color:#ff5c57>`</span><span style=color:#ff6ac1>&lt;</span>main<span style=color:#ff6ac1>&gt;</span><span style=color:#5af78e>&#39;</span>
</span></span></code></pre></div><p>The problem is that <code>bar.proto</code> is being referred to by two different canonical
names: <code>bar.proto</code> and <code>foo/bar.proto</code>. This is a user error: each import should
always be referred to by a consistent full path. Hopefully user errors of this
sort will be rare, but it is hard to know without trying.</p><p>The code in this change prints a warning using <code>warn</code> if we detect that this
edge case has occurred:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript3 data-lang=gdscript3><span style=display:flex><span><span style=color:#ff6ac1>$</span> RUBYLIB<span style=color:#ff6ac1>=</span>foo ruby foo<span style=color:#ff6ac1>/</span>baz_pb<span style=color:#ff6ac1>.</span>rb
</span></span><span style=display:flex><span>Warning: Protobuf detected an import path issue <span style=color:#ff6ac1>while</span> loading generated file foo<span style=color:#ff6ac1>/</span>baz_pb<span style=color:#ff6ac1>.</span>rb
</span></span><span style=display:flex><span><span style=color:#ff6ac1>-</span> foo<span style=color:#ff6ac1>/</span>baz<span style=color:#ff6ac1>.</span>proto imports bar<span style=color:#ff6ac1>.</span>proto, but that import was loaded as foo<span style=color:#ff6ac1>/</span>bar<span style=color:#ff6ac1>.</span>proto
</span></span><span style=display:flex><span>Each proto file must use a consistent fully<span style=color:#ff6ac1>-</span>qualified name<span style=color:#ff6ac1>.</span>
</span></span><span style=display:flex><span>This will become an error <span style=color:#ff6ac1>in</span> the next major version<span style=color:#ff6ac1>.</span>
</span></span></code></pre></div><p>There are two possible fixes in this case. One is to consistently use the name
<code>bar.proto</code> for the import (removing <code>-I.</code>). The other is to consistently use
the name <code>foo/bar.proto</code> for the import (changing the import line to <code>import "foo/bar.proto"</code> and removing <code>-Ifoo</code>).</p><p>We plan to remove this compatibility code in the next major version.</p><h2 id=bazel>Dropping Support for Bazel &lt;5.3<a class=td-heading-self-link href=#bazel aria-label="Heading self-link"></a></h2><p>v23 will drop support for Bazel 4. Protobuf will continue to support the Bazel 5
LTS with Bazel 5.3 as the minimum required version. This is per the build
support policy described in
<a href=https://opensource.google/documentation/policies/cplusplus-support#build_systems>Foundational C++ Support Policy</a>
and as reflected in the versions in
<a href=https://github.com/google/oss-policies-info/blob/main/foundational-cxx-support-matrix.md>Foundational C++ Support</a>.</p><h2 id=deprecation>Syntax Reflection Deprecation<a class=td-heading-self-link href=#deprecation aria-label="Heading self-link"></a></h2><p>v23 will deprecate the ability to check syntax version using reflection. The
deprecation will be included as warnings at build time. The capability will be
removed in a future release.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-909f94f1fd351285b43b9ea6b310db69>24 - News Announcements for Version 24.x</h1><div class=lead>Changes announced for Protocol Buffers version 24.x.</div><p>The following announcements are specific to Version 24.x. For information
presented chronologically, see <a href=/news/>News</a>.</p><h2 id=json-name>Stricter validation for <code>json_name</code><a class=td-heading-self-link href=#json-name aria-label="Heading self-link"></a></h2><p>v24 will forbid embedded null characters in the
<a href=/programming-guides/proto3/#json><code>json_name</code> field option</a>.
Going forward, any valid Unicode characters will be accepted, <strong>except</strong>
<code>\u0000</code>. Null will still be allowed in field values.</p><p>Previously, the proto compiler allowed null characters, but support for this was
inconsistent across languages and implementations. To fix this, we are
clarifying the spec to say that null is not allowed in <code>json_name</code>, and will be
rejected by the compiler.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-861836846649f59aeb760cf8d878bb6a>25 - News Announcements for Version 25.x</h1><div class=lead>Changes announced for Protocol Buffers version 25.x.</div><p>The following announcements are specific to Version 25.x. For information
presented chronologically, see <a href=/news/>News</a>.</p><h2 id=python-breaking-change>Python Breaking Change<a class=td-heading-self-link href=#python-breaking-change aria-label="Heading self-link"></a></h2><p>In v25
<a href=https://googleapis.dev/python/protobuf/latest/google/protobuf/message.html#google.protobuf.message.Message.UnknownFields><code>message.UnknownFields()</code></a>
will be deprecated in pure Python and C++ extensions. It will be removed in v26.
Use the new
<a href=https://googleapis.dev/python/protobuf/latest/google/protobuf/unknown_fields.html><code>UnknownFieldSet(message)</code></a>
support in <code>unknown_fields.py</code> as a replacement.</p><h2 id=μpb-moving-to-the-protobuf-git-repository>μpb Moving to the Protobuf Git Repository<a class=td-heading-self-link href=#%ce%bcpb-moving-to-the-protobuf-git-repository aria-label="Heading self-link"></a></h2><p>Starting with the v25 release, μpb now lives in the
<a href=https://github.com/protocolbuffers/protobuf>protobuf repo</a> instead
of in its <a href=https://github.com/protocolbuffers/upb>former location</a>
in a separate repo. All μpb development going forward will take place only in
the new location.</p><p>The merger of the two repos will simplify and speed up our development process
by removing the need to update pinned version dependencies between protobuf and
μpb. Changes to μpb now take effect immediately in protobuf code and vice versa,
without the need for a manual upgrade step.</p><p>We expect that most users will not need to take much, if any, action to
accommodate the change. μpb is the engine behind our Ruby, PHP, and Python
implementations, but you will most likely not notice the change unless you have
code that refers to μpb directly.</p><p>If you refer to μpb from a Bazel project, you will need to update μpb references
to point to protobuf instead (for example, replace <code>@upb</code> with
<code>@com_google_protobuf</code>). We are keeping μpb file paths and Bazel targets the
same to minimize the need for additional changes, but there are two exceptions:</p><ul><li>The <code>upbc</code> directory has been renamed <code>upb_generator</code>.</li><li>The top-level <code>BUILD</code> file for μpb has moved into the <code>upb</code> directory. So,
for example, references to <code>@upb//:reflection</code> should now be written
<code>@com_google_protobuf//upb:reflection</code>.</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-e06724b4a791a5e3c68af9273ccfb19f>26 - News Announcements for Version 26.x</h1><div class=lead>Changes announced for Protocol Buffers version 26.x.</div><p>The following announcements are specific to Version 26.x. For information
presented chronologically, see <a href=/news/>News</a>.</p><h2 id=general-changes>General Changes<a class=td-heading-self-link href=#general-changes aria-label="Heading self-link"></a></h2><h3 id=JSON>JSON Formatter Option Changes<a class=td-heading-self-link href=#JSON aria-label="Heading self-link"></a></h3><p>Starting in the 26.x line, the JSON formatter option to print default-valued
fields is replaced with a fixed way to handle proto2 and proto3 <code>optional</code>
fields consistently.</p><ul><li>Java: <code>includingDefaultValueFields()</code> is replaced with
<code>alwaysPrintFieldsWithNoPresence()</code>.</li><li>C++: <code>always_print_default_values</code> is replaced with
<code>always_print_fields_with_no_presence=True</code>.</li><li>Py: <code>including_default_value_fields=True</code> is replaced with
<code>always_print_fields_with_no_presence=True</code>.</li></ul><p>The new flag behaves identically to the old flag on proto3 messages, but no
longer applies to proto2 <code>optional</code> fields. The old flags applied to proto2
<code>optional</code> fields but not proto3 <code>optional</code> fields.</p><h3 id=poison-pilling-gencode--runtime-mismatches>Poison Pilling Gencode / Runtime Mismatches<a class=td-heading-self-link href=#poison-pilling-gencode--runtime-mismatches aria-label="Heading self-link"></a></h3><p>Per our
<a href=/support/cross-version-runtime-guarantee>Cross-Version Runtime Guarantees</a>,
Protobuf does not support mixing generated code and runtimes across major
version boundaries, or mixing generated code from a newer version of protoc with
older runtimes within a single major runtime version. We plan to introduce
“poison pills” to detect and enforce these disallowed mismatches.</p><p>This is not considered a breaking change since this simply adds enforcement of
existing policies, but may require users to update their generated code.</p><h2 id=c-breaking-changes>C++ Breaking Changes<a class=td-heading-self-link href=#c-breaking-changes aria-label="Heading self-link"></a></h2><p>In v26, we are planning a major version bump for C++ as per our
<a href=/news/2022-07-06/>breaking changes policy</a> and
<a href=/support/version-support#cpp-tooling>version support policy</a>.</p><p>The following sections outline the set of breaking changes that we plan to
include in the 26.0 release of protocol buffers. Note that plans can and do
change. These are potential breaking changes to be aware of, but they may not
happen in this particular release, or they may not happen at all.</p><h3 id=remove-deprecated-clear-apis-on-repeated-fields>Remove deprecated clear APIs on repeated fields<a class=td-heading-self-link href=#remove-deprecated-clear-apis-on-repeated-fields aria-label="Heading self-link"></a></h3><p>The following deprecated methods are removed:</p><ul><li><code>RepeatedPtrField::ReleaseCleared()</code></li><li><code>RepeatedPtrField::ClearedCount()</code></li><li><code>RepeatedPtrField::AddCleared()</code></li></ul><h3 id=remove-c-legacy-syntax-descriptor-apis>Remove C++ legacy syntax descriptor APIs<a class=td-heading-self-link href=#remove-c-legacy-syntax-descriptor-apis aria-label="Heading self-link"></a></h3><p>With the release of <a href=/editions>editions</a>, syntax is no
longer supported for business logic. Instead, use the various feature helpers
defined in
<a href=/reference/cpp/api-docs/google.protobuf.descriptor><code>descriptor.h</code></a>
to query more targeted behaviors, such as
<a href=/reference/cpp/api-docs/google.protobuf.descriptor#FieldDescriptor.has_presence.details><code>has_presence</code></a>,
to query features in C++.</p><h3 id=remove-deprecated-syntax-accessor>Remove deprecated syntax accessor<a class=td-heading-self-link href=#remove-deprecated-syntax-accessor aria-label="Heading self-link"></a></h3><p>We plan to remove the deprecated syntax accessor, <code>FileDescriptor::Syntax</code>, in
v26. We recommend using the getters from <code>FileDescriptor::edition</code> instead.</p><h3 id=remove-deprecated-supportsunknownenumvalues-method>Remove deprecated SupportsUnknownEnumValues method<a class=td-heading-self-link href=#remove-deprecated-supportsunknownenumvalues-method aria-label="Heading self-link"></a></h3><p>The <code>SupportsUnknownEnumValues</code> method was
<a href=https://github.com/protocolbuffers/protobuf/pull/12129>deprecated in March, 2023</a>.
We plan to remove it in v26.</p><h3 id=remove-stdstring-error-collector-overrides>Remove std::string error collector overrides<a class=td-heading-self-link href=#remove-stdstring-error-collector-overrides aria-label="Heading self-link"></a></h3><p>We are planning to remove the deprecated <code>std::string</code> methods in error
collectors.</p><h2 id=java-breaking-changes>Java Breaking Changes<a class=td-heading-self-link href=#java-breaking-changes aria-label="Heading self-link"></a></h2><p>In v26, we are planning a major version bump for Java per our
<a href=/news/2022-07-06/>breaking changes policy</a> and
<a href=/support/version-support#java>version support policy</a>.</p><p>The following sections outline the set of breaking changes that we plan to
include in the 26.0 release of protocol buffers. Note that plans can and do
change. These are potential breaking changes to be aware of, but they may not
happen in this particular release, or they may not happen at all.</p><h3 id=breaking-compatibility-with-old-generated-code>Breaking Compatibility with Old Generated Code<a class=td-heading-self-link href=#breaking-compatibility-with-old-generated-code aria-label="Heading self-link"></a></h3><p>v26.x will break compatibility with generated code from older major versions.
Users should regenerate old generated code to be from the same version.</p><p>For example, <code>GeneratedMessageV3</code>, which was originally introduced for backwards
compatibility with generated code from v2.x.x against v3.x.x runtime, will be
renamed to <code>GeneratedMessage</code>. Runtimes will be updated to support
<a href=/editions/overview/>Editions</a>, which will not be
compatible with old generated code.</p><p>This is in accordance with our existing
<a href=/support/cross-version-runtime-guarantee>Cross-Version Runtime Guarantees</a>
and is a breaking change.</p><h3 id=removing-deprecated-methodsvariables>Removing Deprecated Methods/Variables<a class=td-heading-self-link href=#removing-deprecated-methodsvariables aria-label="Heading self-link"></a></h3><p>v26.x will remove access to deprecated methods and variables. These will
generally have already been marked <code>@Deprecated</code> in a previous release.</p><p>This will remove access to the following non-exhaustive list:</p><ul><li><p>Descriptor syntax APIs, which should be replaced with corresponding feature
accessors (such as <code>FieldDescriptor.hasPresence()</code>,
<code>EnumDescriptor.isClosed()</code>)</p></li><li><p>TextFormat print methods, which should be replaced by corresponding
<code>TextFormat.printer()</code> methods.</p></li><li><p>PARSER variable, which should be replaced by the <code>parser()</code> method.</p></li><li><p>Runtime methods for old v2.x.x gencode compatibility. This is no longer
supported, as per our
<a href=/support/cross-version-runtime-guarantee>Cross Version Runtime Guarantees</a>.</p></li></ul><p>More details will be available in the corresponding release notes.</p><h2 id=php-breaking-changes>PHP Breaking Changes<a class=td-heading-self-link href=#php-breaking-changes aria-label="Heading self-link"></a></h2><p>The following changes are planned for the 26.x line:</p><ul><li>Validate UTF-8 for string fields in setters.</li><li>Remove generic services.
(<a href=https://github.com/protocolbuffers/protobuf/commit/40ad3fac603ba3c96e52a1266cd785a7adb8e3e4>commit 40ad3fa</a>)</li></ul><h2 id=python-breaking-changes>Python Breaking Changes<a class=td-heading-self-link href=#python-breaking-changes aria-label="Heading self-link"></a></h2><p>In v26, we are planning a major version bump for Python as per our
<a href=/news/2022-07-06/>breaking changes policy</a> and
<a href=/support/version-support#python-support>version support policy</a>.</p><p>The following changes are planned for the 26.x line:</p><ul><li>Make <code>str(msg)</code> escape any invalid UTF-8 in string fields.</li><li>Make <code>text_format.MessageToString()</code> default to outputting raw UTF-8, while
escaping any invalid UTF-8 sequences.</li><li>Fix timestamp bounds (<a href=https://github.com/protocolbuffers/protobuf/commit/1250d5f6cccb0a45f959c7219980a0aad5060ee5>commit 1250d5f</a>)</li></ul><h3 id=removing-deprecated-apis>Removing Deprecated APIs<a class=td-heading-self-link href=#removing-deprecated-apis aria-label="Heading self-link"></a></h3><p>In the 26.x release, the following deprecated APIs will be removed:</p><ul><li><a href=https://googleapis.dev/python/protobuf/latest/google/protobuf/descriptor_pool.html#google.protobuf.descriptor_pool.DescriptorPool.AddFileDescriptor><code>AddFileDescriptor</code></a></li><li><a href=https://googleapis.dev/python/protobuf/latest/google/protobuf/descriptor_pool.html#google.protobuf.descriptor_pool.DescriptorPool.AddDescriptor><code>AddDescriptor</code></a></li><li><a href=https://googleapis.dev/python/protobuf/latest/google/protobuf/descriptor_pool.html#google.protobuf.descriptor_pool.DescriptorPool.AddEnumDescriptor><code>AddEnumDescriptor</code></a></li><li><a href=https://googleapis.dev/python/protobuf/latest/google/protobuf/descriptor_pool.html#google.protobuf.descriptor_pool.DescriptorPool.AddExtensionDescriptor><code>AddExtensionDescriptor</code></a></li><li><a href=https://googleapis.dev/python/protobuf/latest/google/protobuf/descriptor_pool.html#google.protobuf.descriptor_pool.DescriptorPool.AddServiceDescriptor><code>AddServiceDescriptor</code></a></li></ul><h3 id=rejecting-extend-repeated-field-with-none-iterable>Rejecting Extend Repeated Field with None Iterable<a class=td-heading-self-link href=#rejecting-extend-repeated-field-with-none-iterable aria-label="Heading self-link"></a></h3><p>Starting in the 26.x release, extending repeated fields with a <code>None</code> iterable
will be rejected (it will raise a <code>TypeError</code>). For example,
<code>m.repeated_int32.extend(None)</code> will be rejected.</p><h3 id=removing-registerextension-in-message-class>Removing RegisterExtension in message class<a class=td-heading-self-link href=#removing-registerextension-in-message-class aria-label="Heading self-link"></a></h3><p>Starting in the 26.x release,
<a href=https://googleapis.dev/python/protobuf/latest/google/protobuf/descriptor_pb2.html#google.protobuf.descriptor_pb2.DescriptorProto.ExtensionRange.RegisterExtension><code>RegisterExtension</code></a>
will be removed. You can access extensions in Python using the <code>Extensions</code>
property on message objects.</p><p>This affects both pure Python and the C++ implementation of Python, but not upb
Python.</p><h3 id=removing-setuppy-and-setupcfg-support-from-github>Removing <code>setup.py</code> and <code>setup.cfg</code> support from GitHub<a class=td-heading-self-link href=#removing-setuppy-and-setupcfg-support-from-github aria-label="Heading self-link"></a></h3><p>In the 26.x release, <code>setup.py</code> and <code>setup.cfg</code> will no longer be present in the
<code>python/</code> directory of
<a href=https://github.com/protocolbuffers/protobuf/tree/main/python>the GitHub repository</a>
or GitHub
<a href=https://github.com/protocolbuffers/protobuf/releases>release tarballs</a>. This
means it will no longer be possible to build a Python package directly from the
GitHub repo or release tarball.</p><p>The Python source packages published
<a href=https://pypi.org/project/protobuf/#files>on PyPI</a> <em>will</em> continue to have a
<code>setup.py</code> in the top-level directory. This is the supported and recommended way
of building Python binary packages, for users who do not want to use the binary
packages that we distribute on PyPI.</p><p>For more information, see
<a href=https://github.com/protocolbuffers/protobuf/pull/15671>#15671</a>.</p><h3 id=timestamps-are-checked-for-validity>Timestamps are checked for validity<a class=td-heading-self-link href=#timestamps-are-checked-for-validity aria-label="Heading self-link"></a></h3><p>In v26, the system will check if <code>Timestamp</code> values are valid. Seconds must be
in the range [-62135596800, 253402300799] and nanos must be in range [0,
999999999]. Values outside those ranges will raise an exception.</p><h3 id=remove-deprecated-syntax-accessor-1>Remove deprecated syntax accessor<a class=td-heading-self-link href=#remove-deprecated-syntax-accessor-1 aria-label="Heading self-link"></a></h3><p>We plan to remove the deprecated syntax accessor, <code>FileDescriptor.syntax</code>, in
v26. We plan to add <code>FileDescriptor.edition</code> in its place.</p><h3 id=unknownfields-support-removal>UnknownFields support removal<a class=td-heading-self-link href=#unknownfields-support-removal aria-label="Heading self-link"></a></h3><p>In v25
<a href=https://googleapis.dev/python/protobuf/latest/google/protobuf/message.html#google.protobuf.message.Message.UnknownFields><code>message.UnknownFields()</code></a>
was deprecated in pure Python and C++ extensions. We plan to remove it v26. Use
the new
<a href=https://googleapis.dev/python/protobuf/latest/google/protobuf/unknown_fields.html><code>UnknownFieldSet(message)</code></a>
support in <code>unknown_fields.py</code> as a replacement.</p><p>More details about all of these changes will be available in the corresponding
release notes.</p><h2 id=ruby-breaking-changes>Ruby Breaking Changes<a class=td-heading-self-link href=#ruby-breaking-changes aria-label="Heading self-link"></a></h2><ul><li>Fix <code>RepeatedField#each_index</code> to have the correct semantics.
(<a href=https://github.com/protocolbuffers/protobuf/pull/11767>#11767</a>)</li><li>Remove Ruby DSL and associated compatibility code, which will complete the
<a href=/news/2023-04-20/>migration announced in April</a>.</li><li><code>Message#to_h</code> fixes:<ul><li>Remove unset oneof fields.
(<a href=https://github.com/protocolbuffers/protobuf/issues/6167>#6167</a>)</li><li>Remove unset sub-message fields</li></ul></li><li>Use message&rsquo;s pool for
<a href=https://github.com/protocolbuffers/protobuf/blob/2fb0b93d9de226ea96f2dc2b4779eb4712d01d5c/ruby/ext/google/protobuf_c/message.c#L1118><code>encode_json</code></a>/<a href=https://github.com/protocolbuffers/protobuf/blob/2fb0b93d9de226ea96f2dc2b4779eb4712d01d5c/ruby/ext/google/protobuf_c/message.c#L1004><code>decode_json</code></a>.</li><li>Remove the deprecated syntax accessor, <code>FileDescriptor.syntax</code> and add
semantic checks in its place:<ul><li><code>FieldDescriptor.has_presence</code> to test if a field has presence.</li><li><code>FieldDescriptor.is_packed</code> to test if a repeated field is packed.</li><li><code>FieldDescriptor.requires_utf8_validation</code> to test if a string field
requires UTF-8 validation.</li><li><code>EnumDescriptor.is_closed</code> to test if an enum is closed.</li></ul></li></ul><h3 id=freeze-is-now-recursive-in-ruby>Freeze Is Now Recursive in Ruby<a class=td-heading-self-link href=#freeze-is-now-recursive-in-ruby aria-label="Heading self-link"></a></h3><p>Starting in the 26.x line, when freeze is applied it will be applied
recursively, affecting all sub-messages, maps, and repeated fields.</p><h2 id=upb-breaking-changes>upb Breaking Changes<a class=td-heading-self-link href=#upb-breaking-changes aria-label="Heading self-link"></a></h2><p>The following changes are planned for the 26.x line:</p><ul><li>Fix
<a href=https://github.com/protocolbuffers/protobuf/blob/2f7b2832b6a62fec88efacbb97bf0a91b6a3670e/upb/conformance/conformance_upb_failures.txt>nonconformance in JSON parsing</a>
when <code>IgnoreUnknownEnumString</code> is enabled.</li></ul></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=Twitter aria-label=Twitter><a target=_blank rel=noopener href=https://x.com/xah4hbty aria-label=Twitter><i class="fab fa-twitter"></i></a></li></ul></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/dntco43u aria-label=GitHub><i class="fab fa-github"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Mail aria-label=Mail><a target=_blank rel=noopener href=mailto:xqbty8po-dntco43u@yahoo.com aria-label=Mail><i class="fa fa-envelope"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2024
<span class=td-footer__authors>dntco43u | <a href=https://creativecommons.org/licenses/by/4.0>CC BY 4.0</a> | <a href=https://policies.google.com/privacy>Privacy Policy</a></span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span></div></div></div></footer></div><script src=/js/main.min.2f8339f02001e1bae22bc934dd43eedc1fac277e671f4add7c1303349dc3a3e8.js integrity="sha256-L4M58CAB4briK8k03UPu3B+sJ35nH0rdfBMDNJ3Do+g=" crossorigin=anonymous></script><script defer src=/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script></body></html>